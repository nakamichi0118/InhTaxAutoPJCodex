(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Pd={exports:{}},vl={};var Q_;function Jb(){if(Q_)return vl;Q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var K_;function Wb(){return K_||(K_=1,Pd.exports=Jb()),Pd.exports}var x=Wb(),zd={exports:{}},At={};var Y_;function tA(){if(Y_)return At;Y_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,K={};function rt(O,X,nt){this.props=O,this.context=X,this.refs=K,this.updater=nt||G}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function at(){}at.prototype=rt.prototype;function it(O,X,nt){this.props=O,this.context=X,this.refs=K,this.updater=nt||G}var pt=it.prototype=new at;pt.constructor=it,W(pt,rt.prototype),pt.isPureReactComponent=!0;var dt=Array.isArray;function ot(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,X,nt){var st=nt.ref;return{$$typeof:s,type:O,key:X,ref:st!==void 0?st:null,props:nt}}function M(O,X){return R(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return X[nt]})}var C=/\/+/g;function Bt(O,X){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):X.toString(36)}function Pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ot,ot):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,nt,st,Tt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(Ct){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case s:case t:zt=!0;break;case T:return zt=O._init,F(zt(O._payload),X,nt,st,Tt)}}if(zt)return Tt=Tt(O),zt=st===""?"."+Bt(O,0):st,dt(Tt)?(nt="",zt!=null&&(nt=zt.replace(C,"$&/")+"/"),F(Tt,X,nt,"",function(ur){return ur})):Tt!=null&&(D(Tt)&&(Tt=M(Tt,nt+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+zt)),X.push(Tt)),1;zt=0;var xe=st===""?".":st+":";if(dt(O))for(var ae=0;ae<O.length;ae++)st=O[ae],Ct=xe+Bt(st,ae),zt+=F(st,X,nt,Ct,Tt);else if(ae=V(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(st=O.next()).done;)st=st.value,Ct=xe+Bt(st,ae++),zt+=F(st,X,nt,Ct,Tt);else if(Ct==="object"){if(typeof O.then=="function")return F(Pt(O),X,nt,st,Tt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return zt}function tt(O,X,nt){if(O==null)return O;var st=[],Tt=0;return F(O,st,"","",function(Ct){return X.call(nt,Ct,Tt++)}),st}function ht(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Nt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:tt,forEach:function(O,X,nt){tt(O,function(){X.apply(this,arguments)},nt)},count:function(O){var X=0;return tt(O,function(){X++}),X},toArray:function(O){return tt(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=A,At.Children=Ft,At.Component=rt,At.Fragment=i,At.Profiler=l,At.PureComponent=it,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,X,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=W({},O.props),Tt=O.key;if(X!=null)for(Ct in X.key!==void 0&&(Tt=""+X.key),X)!S.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(st[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)st.children=nt;else if(1<Ct){for(var zt=Array(Ct),xe=0;xe<Ct;xe++)zt[xe]=arguments[xe+2];st.children=zt}return R(O.type,Tt,st)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,X,nt){var st,Tt={},Ct=null;if(X!=null)for(st in X.key!==void 0&&(Ct=""+X.key),X)S.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Tt[st]=X[st]);var zt=arguments.length-2;if(zt===1)Tt.children=nt;else if(1<zt){for(var xe=Array(zt),ae=0;ae<zt;ae++)xe[ae]=arguments[ae+2];Tt.children=xe}if(O&&O.defaultProps)for(st in zt=O.defaultProps,zt)Tt[st]===void 0&&(Tt[st]=zt[st]);return R(O,Ct,Tt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:g,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},At.startTransition=function(O){var X=I.T,nt={};I.T=nt;try{var st=O(),Tt=I.S;Tt!==null&&Tt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(ot,Nt)}catch(Ct){Nt(Ct)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),I.T=X}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(O){return I.H.use(O)},At.useActionState=function(O,X,nt){return I.H.useActionState(O,X,nt)},At.useCallback=function(O,X){return I.H.useCallback(O,X)},At.useContext=function(O){return I.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},At.useEffect=function(O,X){return I.H.useEffect(O,X)},At.useEffectEvent=function(O){return I.H.useEffectEvent(O)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(O,X,nt){return I.H.useImperativeHandle(O,X,nt)},At.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},At.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},At.useMemo=function(O,X){return I.H.useMemo(O,X)},At.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},At.useReducer=function(O,X,nt){return I.H.useReducer(O,X,nt)},At.useRef=function(O){return I.H.useRef(O)},At.useState=function(O){return I.H.useState(O)},At.useSyncExternalStore=function(O,X,nt){return I.H.useSyncExternalStore(O,X,nt)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.0",At}var X_;function Mm(){return X_||(X_=1,zd.exports=tA()),zd.exports}var _t=Mm(),jd={exports:{}},El={},Bd={exports:{}},qd={};var $_;function eA(){return $_||($_=1,(function(s){function t(F,tt){var ht=F.length;F.push(tt);t:for(;0<ht;){var Nt=ht-1>>>1,Ft=F[Nt];if(0<l(Ft,tt))F[Nt]=tt,F[ht]=Ft,ht=Nt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var tt=F[0],ht=F.pop();if(ht!==tt){F[0]=ht;t:for(var Nt=0,Ft=F.length,O=Ft>>>1;Nt<O;){var X=2*(Nt+1)-1,nt=F[X],st=X+1,Tt=F[st];if(0>l(nt,ht))st<Ft&&0>l(Tt,nt)?(F[Nt]=Tt,F[st]=ht,Nt=st):(F[Nt]=nt,F[X]=ht,Nt=X);else if(st<Ft&&0>l(Tt,ht))F[Nt]=Tt,F[st]=ht,Nt=st;else break t}}return tt}function l(F,tt){var ht=F.sortIndex-tt.sortIndex;return ht!==0?ht:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,A=null,w=3,V=!1,G=!1,W=!1,K=!1,rt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function pt(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=F)r(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(_)}}function dt(F){if(W=!1,pt(F),!G)if(i(p)!==null)G=!0,ot||(ot=!0,k());else{var tt=i(_);tt!==null&&Pt(dt,tt.startTime-F)}}var ot=!1,I=-1,S=5,R=-1;function M(){return K?!0:!(s.unstable_now()-R<S)}function D(){if(K=!1,ot){var F=s.unstable_now();R=F;var tt=!0;try{t:{G=!1,W&&(W=!1,at(I),I=-1),V=!0;var ht=w;try{e:{for(pt(F),A=i(p);A!==null&&!(A.expirationTime>F&&M());){var Nt=A.callback;if(typeof Nt=="function"){A.callback=null,w=A.priorityLevel;var Ft=Nt(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ft=="function"){A.callback=Ft,pt(F),tt=!0;break e}A===i(p)&&r(p),pt(F)}else r(p);A=i(p)}if(A!==null)tt=!0;else{var O=i(_);O!==null&&Pt(dt,O.startTime-F),tt=!1}}break t}finally{A=null,w=ht,V=!1}tt=void 0}}finally{tt?k():ot=!1}}}var k;if(typeof it=="function")k=function(){it(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Bt=C.port2;C.port1.onmessage=D,k=function(){Bt.postMessage(null)}}else k=function(){rt(D,0)};function Pt(F,tt){I=rt(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(F){switch(w){case 1:case 2:case 3:var tt=3;break;default:tt=w}var ht=w;w=tt;try{return F()}finally{w=ht}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=w;w=F;try{return tt()}finally{w=ht}},s.unstable_scheduleCallback=function(F,tt,ht){var Nt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Nt+ht:Nt):ht=Nt,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,F={id:T++,callback:tt,priorityLevel:F,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Nt?(F.sortIndex=ht,t(_,F),i(p)===null&&F===i(_)&&(W?(at(I),I=-1):W=!0,Pt(dt,ht-Nt))):(F.sortIndex=Ft,t(p,F),G||V||(G=!0,ot||(ot=!0,k()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var tt=w;return function(){var ht=w;w=tt;try{return F.apply(this,arguments)}finally{w=ht}}}})(qd)),qd}var Z_;function nA(){return Z_||(Z_=1,Bd.exports=eA()),Bd.exports}var Hd={exports:{}},Xe={};var J_;function iA(){if(J_)return Xe;J_=1;var s=Mm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Xe.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},Xe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Xe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,V=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:V}):T==="script"&&r.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:V,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Xe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Xe.requestFormReset=function(p){r.d.r(p)},Xe.unstable_batchedUpdates=function(p,_){return p(_)},Xe.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var W_;function sA(){if(W_)return Hd.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=iA(),Hd.exports}var tv;function rA(){if(tv)return El;tv=1;var s=nA(),t=Mm(),i=sA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),it=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case rt:return"Profiler";case K:return"StrictMode";case dt:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case it:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Bt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Bt(e(n))}catch{}}return null}var Pt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Nt=[],Ft=-1;function O(e){return{current:e}}function X(e){0>Ft||(e.current=Nt[Ft],Nt[Ft]=null,Ft--)}function nt(e,n){Ft++,Nt[Ft]=e.current,e.current=n}var st=O(null),Tt=O(null),Ct=O(null),zt=O(null);function xe(e,n){switch(nt(Ct,n),nt(Tt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=g_(n),e=p_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(st),nt(st,e)}function ae(){X(st),X(Tt),X(Ct)}function ur(e){e.memoizedState!==null&&nt(zt,e);var n=st.current,a=p_(n,e.type);n!==a&&(nt(Tt,e),nt(st,a))}function Wr(e){Tt.current===e&&(X(st),X(Tt)),zt.current===e&&(X(zt),gl._currentValue=ht)}var ta,ea;function ii(e){if(ta===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var go=!1;function cr(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var N=y.split(`
`),j=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===j.length)for(o=N.length-1,h=j.length-1;1<=o&&0<=h&&N[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==j[h]){var Q=`
`+N[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return cr(e.type,!1);case 11:return cr(e.type.render,!1);case 1:return cr(e.type,!0);case 31:return ii("Activity");default:return""}}function yo(e){try{var n="",a=null;do n+=po(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,os=s.unstable_cancelCallback,zh=s.unstable_shouldYield,tu=s.unstable_requestPaint,tn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,jh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,jn=null,ze=null;function wn(e){if(typeof nu=="function"&&iu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:ru,su=Math.log,na=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/na|0)|0}var si=256,fr=262144,_e=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(y&=E,y!==0?h=ri(y):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):y!==0?h=ri(y):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-fe(a),$=1<<Q;E[Q]=0,N[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&mr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function mr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Eo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function To(e,n){var a=n&-n;return a=(a&42)!==0?1:gr(a),(a&(e.suspendedLanes|n))!==0?0:a}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function qn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Ue="__reactProps$"+Hn,li="__reactContainer$"+Hn,ia="__reactEvents$"+Hn,Hh="__reactListeners$"+Hn,lu="__reactHandles$"+Hn,uu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function sa(e){delete e[ve],delete e[Ue],delete e[ia],delete e[Hh],delete e[lu]}function ci(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[ve])return a;e=A_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function hi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ui]=!0}var bo=new Set,Ao={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Ao[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function cu(e){return ye.call(Ro,e)?!0:ye.call(wo,e)?!1:So.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ra(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function rn(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Io(e,y,ke(n)):a!=null?Io(e,y,ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function hu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Yt(e)}function Io(e,n,a){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function hs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Pt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Do=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,gi=null;function _r(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(r(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&pr(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&cs(e,!!a.multiple,n,!1)}}}var ua=!1;function ms(e,n,a){if(ua)return e(n,a);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(ds!==null||gi!==null)&&(oc(),ds&&(n=ds,e=gi,gi=ds=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(In)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{vr=!1}var pi=null,Oo=null,Er=null;function Mo(){if(Er)return Er;var e,n=Oo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Er=h.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Qn(){return!1}function je(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=je(Ui),gs=A({},Ui,{view:0,detail:0}),Vo=je(gs),ps,ca,_i,ha=A({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(ps=e.screenX-_i.screenX,ca=e.screenY-_i.screenY):ca=ps=0,_i=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Uo=je(ha),br=A({},ha,{dataTransfer:0}),gu=je(br),pu=A({},gs,{relatedTarget:0}),Ar=je(pu),ko=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=je(ko),fa=A({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=je(fa),vu=A({},Ui,{data:0}),vi=je(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function ys(){return Au}var en=A({},gs,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=je(en),wu=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=je(wu),u=A({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=je(u),v=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=je(v),P=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(P),et=A({},Ui,{newState:0,oldState:0}),wt=je(et),de=[9,13,27,32],Gt=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Nn=In&&"TextEvent"in window&&!oe,Ei=In&&(!Gt||oe&&8<oe&&11>=oe),Kn=" ",Yn=!1;function Sr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function b1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function A1(e,n){if(ma)return e==="compositionend"||!Gt&&Sr(e,n)?(e=Mo(),Er=Oo=pi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S1[e.type]:n==="textarea"}function Cg(e,n,a,o){ds?gi?gi.push(o):gi=[o]:ds=o,n=mc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Lo=null,Po=null;function w1(e){u_(e,0)}function Ru(e){var n=gn(e);if(pr(n))return e}function Ig(e,n){if(e==="change")return n}var Ng=!1;if(In){var Fh;if(In){var Gh="oninput"in document;if(!Gh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Gh=typeof xg.oninput=="function"}Fh=Gh}else Fh=!1;Ng=Fh&&(!document.documentMode||9<document.documentMode)}function Dg(){Lo&&(Lo.detachEvent("onpropertychange",Og),Po=Lo=null)}function Og(e){if(e.propertyName==="value"&&Ru(Po)){var n=[];Cg(n,Po,e,Cn(e)),ms(w1,n)}}function R1(e,n,a){e==="focusin"?(Dg(),Lo=n,Po=a,Lo.attachEvent("onpropertychange",Og)):e==="focusout"&&Dg()}function C1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function I1(e,n){if(e==="click")return Ru(n)}function N1(e,n){if(e==="input"||e==="change")return Ru(n)}function x1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:x1;function zo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,n){var a=Mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mg(a)}}function Ug(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ug(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=mi(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D1=In&&"documentMode"in document&&11>=document.documentMode,ga=null,Kh=null,jo=null,Yh=!1;function Lg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||ga==null||ga!==mi(o)||(o=ga,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=mc(Kh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ga)))}function wr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pa={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Xh={},Pg={};In&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Rr(e){if(Xh[e])return Xh[e];if(!pa[e])return e;var n=pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pg)return Xh[e]=n[a];return e}var zg=Rr("animationend"),jg=Rr("animationiteration"),Bg=Rr("animationstart"),O1=Rr("transitionrun"),M1=Rr("transitionstart"),V1=Rr("transitioncancel"),qg=Rr("transitionend"),Hg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Xn(e,n){Hg.set(e,n),fi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ya=0,Zh=0;function Iu(){for(var e=ya,n=Zh=ya=0;n<e;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Fg(a,h,f)}}function Nu(e,n,a,o){xn[ya++]=e,xn[ya++]=n,xn[ya++]=a,xn[ya++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jh(e,n,a,o){return Nu(e,n,a,o),xu(e)}function Cr(e,n){return Nu(e,null,null,n),xu(e)}function Fg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function xu(e){if(50<ll)throw ll=0,ld=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function U1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,o){return new U1(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Wh(e)&&(y=1);else if(typeof e=="string")y=jb(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=_n(31,a,n,h),e.elementType=R,e.lanes=f,e;case W:return Ir(a.children,h,f,n);case K:y=8,h|=24;break;case rt:return e=_n(12,a,n,h|2),e.elementType=rt,e.lanes=f,e;case dt:return e=_n(13,a,n,h),e.elementType=dt,e.lanes=f,e;case ot:return e=_n(19,a,n,h),e.elementType=ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:y=10;break t;case at:y=9;break t;case pt:y=11;break t;case I:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=_n(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ir(e,n,a,o){return e=_n(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function Qg(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kg=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=Kg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:yo(n)},Kg.set(e,n),n)}return{value:e,source:n,stack:yo(n)}}var va=[],Ea=0,Ou=null,Bo=0,On=[],Mn=0,_s=null,Ti=1,bi="";function Pi(e,n){va[Ea++]=Bo,va[Ea++]=Ou,Ou=e,Bo=n}function Yg(e,n,a){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=_s,_s=e;var o=Ti;e=bi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ti=1<<32-fe(n)+h|a<<h|o,bi=f+e}else Ti=1<<f|a<<h|o,bi=e}function nf(e){e.return!==null&&(Pi(e,1),Yg(e,1,0))}function sf(e){for(;e===Ou;)Ou=va[--Ea],va[Ea]=null,Bo=va[--Ea],va[Ea]=null;for(;e===_s;)_s=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null}function Xg(e,n){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=_s,Ti=n.id,bi=n.overflow,_s=e}var Be=null,ie=null,Lt=!1,vs=null,Vn=!1,rf=Error(r(519));function Es(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Dn(n,e)),rf}function $g(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ue]=o,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)Dt(cl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),hs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||d_(n.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Es(e,!0)}function Zg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function Ta(e){if(e!==Be)return!1;if(!Lt)return Zg(e),Lt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&ie&&Es(e),Zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=b_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=b_(e)}else n===27?(n=ie,Vs(e.type)?(e=Id,Id=null,ie=e):ie=n):ie=Be?kn(e.stateNode.nextSibling):null;return!0}function Nr(){ie=Be=null,Lt=!1}function af(){var e=vs;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),vs=null),e}function qo(e){vs===null?vs=[e]:vs.push(e)}var of=O(null),xr=null,zi=null;function Ts(e,n,a){nt(of,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=of.current,X(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),lf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ba(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;yn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===zt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){xr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Jg(xr,e)}function Vu(e,n){return xr===null&&Dr(e),Jg(e,n)}function Jg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(r(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return a}var k1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},L1=s.unstable_scheduleCallback,P1=s.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new k1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&L1(P1,function(){e.controller.abort()})}var Fo=null,hf=0,Aa=0,Sa=null;function z1(e,n){if(Fo===null){var a=Fo=[];hf=0,Aa=md(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(Wg,Wg),n}function Wg(){if(--hf===0&&Fo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Fo;Fo=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function j1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var tp=F.S;F.S=function(e,n){Ly=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&z1(e,n),tp!==null&&tp(e,n)};var Or=O(null);function ff(){var e=Or.current;return e!==null?e:ee.pooledCache}function Uu(e,n){n===null?nt(Or,Or.current):nt(Or,n.pool)}function ep(){var e=ff();return e===null?null:{parent:be._currentValue,pool:e}}var wa=Error(r(460)),df=Error(r(474)),ku=Error(r(542)),Lu={then:function(){}};function np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ip(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rp(e),e}throw Vr=n,wa}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vr=a,wa):a}}var Vr=null;function sp(){if(Vr===null)throw Error(r(459));var e=Vr;return Vr=null,e}function rp(e){if(e===wa||e===ku)throw Error(r(483))}var Ra=null,Go=0;function Pu(e){var n=Go;return Go+=1,Ra===null&&(Ra=[]),ip(Ra,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ap(e){function n(L,U){if(e){var z=L.deletions;z===null?(L.deletions=[U],L.flags|=16):z.push(U)}}function a(L,U){if(!e)return null;for(;U!==null;)n(L,U),U=U.sibling;return null}function o(L){for(var U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function h(L,U){return L=Li(L,U),L.index=0,L.sibling=null,L}function f(L,U,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<U?(L.flags|=67108866,U):z):(L.flags|=67108866,U)):(L.flags|=1048576,U)}function y(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,U,z,Y){return U===null||U.tag!==6?(U=tf(z,L.mode,Y),U.return=L,U):(U=h(U,z),U.return=L,U)}function N(L,U,z,Y){var mt=z.type;return mt===W?Q(L,U,z.props.children,Y,z.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Mr(mt)===U.type)?(U=h(U,z.props),Qo(U,z),U.return=L,U):(U=Du(z.type,z.key,z.props,null,L.mode,Y),Qo(U,z),U.return=L,U)}function j(L,U,z,Y){return U===null||U.tag!==4||U.stateNode.containerInfo!==z.containerInfo||U.stateNode.implementation!==z.implementation?(U=ef(z,L.mode,Y),U.return=L,U):(U=h(U,z.children||[]),U.return=L,U)}function Q(L,U,z,Y,mt){return U===null||U.tag!==7?(U=Ir(z,L.mode,Y,mt),U.return=L,U):(U=h(U,z),U.return=L,U)}function $(L,U,z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=tf(""+U,L.mode,z),U.return=L,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return z=Du(U.type,U.key,U.props,null,L.mode,z),Qo(z,U),z.return=L,z;case G:return U=ef(U,L.mode,z),U.return=L,U;case S:return U=Mr(U),$(L,U,z)}if(Pt(U)||k(U))return U=Ir(U,L.mode,z,null),U.return=L,U;if(typeof U.then=="function")return $(L,Pu(U),z);if(U.$$typeof===it)return $(L,Vu(L,U),z);zu(L,U)}return null}function B(L,U,z,Y){var mt=U!==null?U.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:E(L,U,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===mt?N(L,U,z,Y):null;case G:return z.key===mt?j(L,U,z,Y):null;case S:return z=Mr(z),B(L,U,z,Y)}if(Pt(z)||k(z))return mt!==null?null:Q(L,U,z,Y,null);if(typeof z.then=="function")return B(L,U,Pu(z),Y);if(z.$$typeof===it)return B(L,U,Vu(L,z),Y);zu(L,z)}return null}function H(L,U,z,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,E(U,L,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return L=L.get(Y.key===null?z:Y.key)||null,N(U,L,Y,mt);case G:return L=L.get(Y.key===null?z:Y.key)||null,j(U,L,Y,mt);case S:return Y=Mr(Y),H(L,U,z,Y,mt)}if(Pt(Y)||k(Y))return L=L.get(z)||null,Q(U,L,Y,mt,null);if(typeof Y.then=="function")return H(L,U,z,Pu(Y),mt);if(Y.$$typeof===it)return H(L,U,z,Vu(U,Y),mt);zu(U,Y)}return null}function ct(L,U,z,Y){for(var mt=null,qt=null,ft=U,It=U=0,Mt=null;ft!==null&&It<z.length;It++){ft.index>It?(Mt=ft,ft=null):Mt=ft.sibling;var Ht=B(L,ft,z[It],Y);if(Ht===null){ft===null&&(ft=Mt);break}e&&ft&&Ht.alternate===null&&n(L,ft),U=f(Ht,U,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,ft=Mt}if(It===z.length)return a(L,ft),Lt&&Pi(L,It),mt;if(ft===null){for(;It<z.length;It++)ft=$(L,z[It],Y),ft!==null&&(U=f(ft,U,It),qt===null?mt=ft:qt.sibling=ft,qt=ft);return Lt&&Pi(L,It),mt}for(ft=o(ft);It<z.length;It++)Mt=H(ft,L,It,z[It],Y),Mt!==null&&(e&&Mt.alternate!==null&&ft.delete(Mt.key===null?It:Mt.key),U=f(Mt,U,It),qt===null?mt=Mt:qt.sibling=Mt,qt=Mt);return e&&ft.forEach(function(zs){return n(L,zs)}),Lt&&Pi(L,It),mt}function yt(L,U,z,Y){if(z==null)throw Error(r(151));for(var mt=null,qt=null,ft=U,It=U=0,Mt=null,Ht=z.next();ft!==null&&!Ht.done;It++,Ht=z.next()){ft.index>It?(Mt=ft,ft=null):Mt=ft.sibling;var zs=B(L,ft,Ht.value,Y);if(zs===null){ft===null&&(ft=Mt);break}e&&ft&&zs.alternate===null&&n(L,ft),U=f(zs,U,It),qt===null?mt=zs:qt.sibling=zs,qt=zs,ft=Mt}if(Ht.done)return a(L,ft),Lt&&Pi(L,It),mt;if(ft===null){for(;!Ht.done;It++,Ht=z.next())Ht=$(L,Ht.value,Y),Ht!==null&&(U=f(Ht,U,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return Lt&&Pi(L,It),mt}for(ft=o(ft);!Ht.done;It++,Ht=z.next())Ht=H(ft,L,It,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&ft.delete(Ht.key===null?It:Ht.key),U=f(Ht,U,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return e&&ft.forEach(function(Zb){return n(L,Zb)}),Lt&&Pi(L,It),mt}function te(L,U,z,Y){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var mt=z.key;U!==null;){if(U.key===mt){if(mt=z.type,mt===W){if(U.tag===7){a(L,U.sibling),Y=h(U,z.props.children),Y.return=L,L=Y;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Mr(mt)===U.type){a(L,U.sibling),Y=h(U,z.props),Qo(Y,z),Y.return=L,L=Y;break t}a(L,U);break}else n(L,U);U=U.sibling}z.type===W?(Y=Ir(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=Du(z.type,z.key,z.props,null,L.mode,Y),Qo(Y,z),Y.return=L,L=Y)}return y(L);case G:t:{for(mt=z.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===z.containerInfo&&U.stateNode.implementation===z.implementation){a(L,U.sibling),Y=h(U,z.children||[]),Y.return=L,L=Y;break t}else{a(L,U);break}else n(L,U);U=U.sibling}Y=ef(z,L.mode,Y),Y.return=L,L=Y}return y(L);case S:return z=Mr(z),te(L,U,z,Y)}if(Pt(z))return ct(L,U,z,Y);if(k(z)){if(mt=k(z),typeof mt!="function")throw Error(r(150));return z=mt.call(z),yt(L,U,z,Y)}if(typeof z.then=="function")return te(L,U,Pu(z),Y);if(z.$$typeof===it)return te(L,U,Vu(L,z),Y);zu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,U!==null&&U.tag===6?(a(L,U.sibling),Y=h(U,z),Y.return=L,L=Y):(a(L,U),Y=tf(z,L.mode,Y),Y.return=L,L=Y),y(L)):a(L,U)}return function(L,U,z,Y){try{Go=0;var mt=te(L,U,z,Y);return Ra=null,mt}catch(ft){if(ft===wa||ft===ku)throw ft;var qt=_n(29,ft,null,L.mode);return qt.lanes=Y,qt.return=L,qt}finally{}}}var Ur=ap(!0),op=ap(!1),bs=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Fg(e,null,a),n}return Nu(e,o,n,a),xu(e)}function Ko(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}function pf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function Yo(){if(yf){var e=Sa;if(e!==null)throw e}}function Xo(e,n,a,o){yf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,y===null?f=j:y.next=j,y=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;y=0,Q=j=N=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ot&B)===B:(o&B)===B){B!==0&&B===Aa&&(yf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,yt=E;B=n;var te=a;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){$=ct.call(te,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,B=typeof ct=="function"?ct.call(te,$,B):ct,B==null)break t;$=A({},$,B);break t;case 2:bs=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,N=$):Q=Q.next=H,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=$),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=y,e.lanes=y,e.memoizedState=$}}function lp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function up(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lp(a[e],n)}var Ca=O(null),ju=O(0);function cp(e,n){e=Xi,nt(ju,e),nt(Ca,n),Xi=e|n.baseLanes}function _f(){nt(ju,Xi),nt(Ca,Ca.current)}function vf(){Xi=ju.current,X(Ca),X(ju)}var vn=O(null),Un=null;function ws(e){var n=e.alternate;nt(me,me.current&1),nt(vn,e),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=e)}function Ef(e){nt(me,me.current),nt(vn,e),Un===null&&(Un=e)}function hp(e){e.tag===22?(nt(me,me.current),nt(vn,e),Un===null&&(Un=e)):Rs()}function Rs(){nt(me,me.current),nt(vn,vn.current)}function En(e){X(vn),Un===e&&(Un=null),X(me)}var me=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Rt=null,Jt=null,Ae=null,qu=!1,Ia=!1,kr=!1,Hu=0,$o=0,Na=null,B1=0;function ce(){throw Error(r(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function bf(e,n,a,o,h,f){return Bi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Yp:Lf,kr=!1,f=a(o,h),kr=!1,Ia&&(f=dp(n,a,o,h)),fp(e),f}function fp(e){F.H=Wo;var n=Jt!==null&&Jt.next!==null;if(Bi=0,Ae=Jt=Rt=null,qu=!1,$o=0,Na=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&Mu(e)&&(Se=!0))}function dp(e,n,a,o){Rt=e;var h=0;do{if(Ia&&(Na=null),$o=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Xp,f=n(a,o)}while(Ia);return f}function q1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Af(){var e=Hu!==0;return Hu=0,e}function Sf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Bi=0,Ae=Jt=Rt=null,Ia=!1,$o=Hu=0,Na=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Na===null&&(Na=[]),e=ip(Na,e,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yp:Lf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===it)return qe(e)}throw Error(r(438,String(e)))}function Rf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=ge();return Cf(n,Jt,e)}function Cf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,N=null,j=n,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ot&$)===$:(Bi&$)===$){var B=j.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Aa&&(Q=!0);else if((Bi&B)===B){j=j.next,B===Aa&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=$,y=f):N=N.next=$,Rt.lanes|=B,Ns|=B;$=j.action,kr&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=B,y=f):N=N.next=B,Rt.lanes|=$,Ns|=$;j=j.next}while(j!==null&&j!==n);if(N===null?y=f:N.next=E,!yn(f,e.memoizedState)&&(Se=!0,Q&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);yn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function mp(e,n,a){var o=Rt,h=ge(),f=Lt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!yn((Jt||h).memoizedState,a);if(y&&(h.memoizedState=a,Se=!0),h=h.queue,Df(yp.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},pp.bind(null,o,h,a,n),null),ee===null)throw Error(r(349));f||(Bi&127)!==0||gp(o,n,a)}return a}function gp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Fu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function pp(e,n,a,o){n.value=a,n.getSnapshot=o,_p(n)&&vp(e)}function yp(e,n,a){return a(function(){_p(n)&&vp(e)})}function _p(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function vp(e){var n=Cr(e,2);n!==null&&hn(n,e,2)}function Nf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),kr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function Ep(e,n,a,o){return e.baseState=a,Cf(e,Jt,typeof o=="function"?o:qi)}function H1(e,n,a,o,h){if(Xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Tp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Tp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),N=F.S;N!==null&&N(y,E),bp(e,n,E)}catch(j){xf(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),bp(e,n,f)}catch(j){xf(e,n,j)}}function bp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ap(e,n,o)},function(o){return xf(e,n,o)}):Ap(e,n,a)}function Ap(e,n,a){n.status="fulfilled",n.value=a,Sp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Tp(e,a)))}function xf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Sp(n),n=n.next;while(n!==o)}e.action=null}function Sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wp(e,n){return n}function Rp(e,n){if(Lt){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Lt){if(ie){e:{for(var h=ie,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=kn(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:n},a.queue=o,a=Gp.bind(null,Rt,o),o.dispatch=a,o=Nf(!1),f=kf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=H1.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Cp(e){var n=ge();return Ip(n,Jt,e)}function Ip(e,n,a){if(n=Cf(e,n,wp)[0],e=Qu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(y){throw y===wa?ku:y}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,xa(9,{destroy:void 0},F1.bind(null,h,a),null)),[o,f,e]}function F1(e,n){e.action=n}function Np(e){var n=ge(),a=Jt;if(a!==null)return Ip(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function xa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Fu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function xp(){return ge().memoizedState}function Ku(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Tf(o,Jt.memoizedState.deps)?h.memoizedState=xa(n,f,a,o):(Rt.flags|=e,h.memoizedState=xa(1|n,f,a,o))}function Dp(e,n){Ku(8390656,8,e,n)}function Df(e,n){Yu(2048,8,e,n)}function G1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Fu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Op(e){var n=ge().memoizedState;return G1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Mp(e,n){return Yu(4,2,e,n)}function Vp(e,n){return Yu(4,4,e,n)}function Up(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kp(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,Up.bind(null,n,e),a)}function Of(){}function Lp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Pp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),kr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Mf(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=zy(),Rt.lanes|=e,Ns|=e,a)}function zp(e,n,a,o){return yn(a,n)?a:Ca.current!==null?(e=Mf(e,a,o),yn(e,n)||(Se=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Ot&261930)===0?(Se=!0,e.memoizedState=a):(e=zy(),Rt.lanes|=e,Ns|=e,n)}function jp(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,kf(e,!1,n,a);try{var N=h(),j=F.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=j1(N,o);Jo(e,n,Q,An(e))}else Jo(e,n,o,An(e))}catch($){Jo(e,n,{then:function(){},status:"rejected",reason:$},An())}finally{tt.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function Q1(){}function Vf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Bp(e).queue;jp(e,h,n,ht,a===null?Q1:function(){return qp(e),a(o)})}function Bp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qp(e){var n=Bp(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},An())}function Uf(){return qe(gl)}function Hp(){return ge().memoizedState}function Fp(){return ge().memoizedState}function K1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=As(a);var o=Ss(n,e,a);o!==null&&(hn(o,n,a),Ko(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function Y1(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Qp(n,a):(a=Jh(e,n,a,o),a!==null&&(hn(a,e,o),Kp(a,n,o)))}function Gp(e,n,a){var o=An();Jo(e,n,a,o)}function Jo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Qp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,y))return Nu(e,n,h,0),ee===null&&Iu(),!1}catch{}finally{}if(a=Jh(e,n,h,o),a!==null)return hn(a,e,o),Kp(a,n,o),!0}return!1}function kf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(r(479))}else n=Jh(e,a,o,2),n!==null&&hn(n,e,2)}function Xu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Qp(e,n){Ia=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}var Wo={readContext:qe,use:Gu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Wo.useEffectEvent=ce;var Yp={readContext:qe,use:Gu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Dp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Up.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(kr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(kr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Y1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,a=Gp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,n){var a=nn();return Mf(a,e,n)},useTransition:function(){var e=Nf(!1);return e=jp.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Lt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Ot&127)!==0||gp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Dp(yp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},pp.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Lt){var a=bi,o=Ti;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=B1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return nn().memoizedState=K1.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:qe,use:Gu,useCallback:Lp,useContext:qe,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:Qu,useRef:xp,useState:function(){return Qu(qi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=ge();return zp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Qu(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Uf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=ge();return Ep(a,Jt,e,n)},useMemoCache:Rf,useCacheRefresh:Fp};Lf.useEffectEvent=Op;var Xp={readContext:qe,use:Gu,useCallback:Lp,useContext:qe,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:If,useRef:xp,useState:function(){return If(qi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=ge();return Jt===null?Mf(a,e,n):zp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=If(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Uf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=ge();return Jt!==null?Ep(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Fp};Xp.useEffectEvent=Op;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=As(o);h.payload=n,a!=null&&(h.callback=a),n=Ss(e,h,o),n!==null&&(hn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=As(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ss(e,h,o),n!==null&&(hn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=As(a);o.tag=2,n!=null&&(o.callback=n),n=Ss(e,o,a),n!==null&&(hn(n,e,a),Ko(n,e,a))}};function $p(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function Zp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jp(e){Cu(e)}function Wp(e){console.error(e)}function ty(e){Cu(e)}function $u(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,n)},a}function ny(e){return e=As(e),e.tag=3,e}function iy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ey(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ey(n,a,o),typeof h!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function X1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?lc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(r(435,a.tag))}return hd(e,o,h),lc(),!1}if(Lt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(r(422),{cause:o}),qo(Dn(e,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),qo(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=jf(e.stateNode,o,h),pf(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ol===null?ol=[f]:ol.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),pf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ny(h),iy(h,e,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),Se=!1;function He(e,n,a,o){n.child=e===null?op(n,null,a,o):Ur(n,e.child,a,o)}function sy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Dr(n),o=bf(e,n,a,y,f,h),E=Af(),e!==null&&!Se?(Sf(e,n,h),Hi(e,n,h)):(Lt&&E&&nf(n),n.flags|=1,He(e,n,o,h),n.child)}function ry(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ay(e,n,f,o,h)):(e=Du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(y,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function ay(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return qf(e,n,a,o,h)}function oy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ly(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?cp(n,f):_f(),hp(n);else return o=n.lanes=536870912,ly(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Uu(n,f.cachePool),cp(n,f),Rs(),n.memoizedState=null):(e!==null&&Uu(n,null),_f(),Rs());return He(e,n,h,a),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Uu(n,null),_f(),hp(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function uy(e,n,a){return Ur(n,e.child,null,a),e=Zu(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function $1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,tl(null,e);if(Ef(n),(e=ie)?(e=T_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,Be=n,ie=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=uy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||ba(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=ee,o!==null&&(y=To(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Cr(e,y),hn(o,e,y),Bf;lc(),n=uy(e,n,a)}else e=f.treeContext,ie=kn(y.nextSibling),Be=n,Lt=!0,vs=null,Vn=!1,e!==null&&Xg(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return Dr(n),a=bf(e,n,a,o,void 0,h),o=Af(),e!==null&&!Se?(Sf(e,n,h),Hi(e,n,h)):(Lt&&o&&nf(n),n.flags|=1,He(e,n,a,h),n.child)}function cy(e,n,a,o,h,f){return Dr(n),n.updateQueue=null,a=dp(n,o,a,h),fp(e),o=Af(),e!==null&&!Se?(Sf(e,n,f),Hi(e,n,f)):(Lt&&o&&nf(n),n.flags|=1,He(e,n,a,f),n.child)}function hy(e,n,a,o,h){if(Dr(n),n.stateNode===null){var f=_a,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):_a,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&zf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Lr(a,E);f.props=N;var j=f.context,Q=a.contextType;y=_a,typeof Q=="object"&&Q!==null&&(y=qe(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&Zp(n,f,o,y),bs=!1;var B=n.memoizedState;f.state=B,Xo(n,o,f,h),Yo(),j=n.memoizedState,E||B!==j||bs?(typeof $=="function"&&(Pf(n,a,$,o),j=n.memoizedState),(N=bs||$p(n,a,N,o,B,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),y=n.memoizedProps,Q=Lr(a,y),f.props=Q,$=n.pendingProps,B=f.context,j=a.contextType,N=_a,typeof j=="object"&&j!==null&&(N=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==N)&&Zp(n,f,o,N),bs=!1,B=n.memoizedState,f.state=B,Xo(n,o,f,h),Yo();var H=n.memoizedState;y!==$||B!==H||bs||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),H=n.memoizedState),(Q=bs||$p(n,a,Q,o,B,H,N)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function fy(e,n,a,o){return Nr(),n.flags|=256,He(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:ep()}}function Gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bn),e}function dy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?ws(n):Rs(),(e=ie)?(e=T_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,Be=n,ie=null)):e=null,e===null)throw Es(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=Ir(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),n.memoizedState=Hf,tl(null,o)):(ws(n),Qf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Kf(e,n,a)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=Ir(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ur(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),n.memoizedState=Hf,n=tl(null,o));else if(ws(n),Cd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,qo({value:o,source:null,stack:null}),n=Kf(e,n,a)}else if(Se||ba(e,n,a,!1),y=(a&e.childLanes)!==0,Se||y){if(y=ee,y!==null&&(o=To(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Cr(e,o),hn(y,e,o),Bf;Rd(E)||lc(),n=Kf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ie=kn(E.nextSibling),Be=n,Lt=!0,vs=null,Vn=!1,e!==null&&Xg(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,N=e.child,j=N.sibling,o=Li(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Ir(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(N=be._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ep(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,y,a),n.memoizedState=Hf,tl(e.child,o)):(ws(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Qf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Kf(e,n,a){return Ur(n,e.child,null,a),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function my(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Yf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function gy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(me,y),He(e,n,o,a),o=Lt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,a,n);else if(e.tag===19)my(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ba(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function Z1(e,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),Ts(n,be,e.memoizedState.cache),Nr();break;case 27:case 5:ur(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(a&n.child.childLanes)!==0?dy(e,n,a):(ws(n),e=Hi(e,n,a),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return gy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,oy(e,n,a,n.pendingProps);case 24:Ts(n,be,e.memoizedState.cache)}return Hi(e,n,a)}function py(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return Se=!1,Z1(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Lt&&(n.flags&1048576)!==0&&Yg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=Lr(e,o),n.tag=1,n=hy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===pt){n.tag=11,n=sy(null,n,e,o,a);break t}else if(h===I){n.tag=14,n=ry(null,n,e,o,a);break t}}throw n=Bt(e)||e,Error(r(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Lr(o,n.pendingProps),hy(e,n,o,h,a);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),Xo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ts(n,be,o),o!==f.cache&&uf(n,[be],a,!0),Yo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(e,n,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),n),qo(h),n=fy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=kn(e.firstChild),Be=n,Lt=!0,vs=null,Vn=!0,a=op(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Nr(),o===h){n=Hi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return Ju(e,n),e===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,e=n.pendingProps,o=gc(Ct.current).createElement(a),o[ve]=n,o[Ue]=e,Fe(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ur(n),e===null&&Lt&&(o=n.stateNode=S_(n.type,n.pendingProps,Ct.current),Be=n,Vn=!0,h=ie,Vs(n.type)?(Id=h,ie=kn(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,a),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ie)&&(o=Cb(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Be=n,ie=kn(o.firstChild),Vn=!1,h=!0):h=!1),h||Es(n)),ur(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:y!==null&&Ad(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,q1,null,null,a),gl._currentValue=h),Ju(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Lt&&((e=a=ie)&&(a=Ib(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Be=n,ie=null,e=!0):e=!1),e||Es(n)),null;case 13:return dy(e,n,a);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ur(n,null,o,a):He(e,n,o,a),n.child;case 11:return sy(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return ry(e,n,n.type,n.pendingProps,a);case 15:return ay(e,n,n.type,n.pendingProps,a);case 19:return gy(e,n,a);case 31:return $1(e,n,a);case 22:return oy(e,n,a,n.pendingProps);case 24:return Dr(n),o=qe(be),e===null?(h=ff(),h===null&&(h=ee,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Ts(n,be,h)):((e.lanes&a)!==0&&(gf(e,n),Xo(n,null,null,a),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,be,o)):(o=f.cache,Ts(n,be,o),o!==h.cache&&uf(n,[be],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Fi(e){e.flags|=4}function $f(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Hy())e.flags|=8192;else throw Vr=Lu,df}else e.flags&=-16777217}function yy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(n))if(Hy())e.flags|=8192;else throw Vr=Lu,df}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Va|=n)}function el(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function J1(e,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(se(n),yy(n,f)):(se(n),$f(n,h,null,o,a))):f?f!==e.memoizedState?(Fi(n),se(n),yy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),se(n),$f(n,h,e,o,a)),null;case 27:if(Wr(n),a=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}e=st.current,Ta(n)?$g(n):(e=S_(h,o,a),n.stateNode=e,Fi(n))}return se(n),null;case 5:if(Wr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=st.current,Ta(n))$g(n);else{var y=gc(Ct.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[Ue]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return se(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ct.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||d_(e.nodeValue,a)),e||Es(n,!0)}else e=gc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return se(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&_d(n.stateNode.containerInfo),se(n),null;case 10:return ji(n.type),se(n),null;case 19:if(X(me),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Gg(a,e),a=a.sibling;return nt(me,me.current&1|2),Lt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>rc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return se(n),null}else 2*tn()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Lt&&Pi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return En(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&X(Or),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(be),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function W1(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(be),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(me),null;case 4:return ae(),null;case 10:return ji(n.type),null;case 22:case 23:return En(n),vf(),e!==null&&X(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(be),null;case 25:return null;default:return null}}function _y(e,n){switch(sf(n),n.tag){case 3:ji(be),ae();break;case 26:case 27:case 5:Wr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:X(me);break;case 10:ji(n.type);break;case 22:case 23:En(n),vf(),e!==null&&X(Or);break;case 24:ji(be)}}function nl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function Cs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var N=a,j=E;try{j()}catch(Q){$t(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function vy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{up(n,a)}catch(o){$t(e,e.return,o)}}}function Ey(e,n,a){a.props=Lr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function il(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Ty(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Zf(e,n,a){try{var o=e.stateNode;Tb(o,e.type,a,n),o[Ue]=n}catch(h){$t(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Vs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function Ay(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ve]=e,n[Ue]=a}catch(f){$t(e,e.return,f)}}var Gi=!1,we=!1,td=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function tb(e,n){if(e=e.containerInfo,Td=bc,e=kg(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,N=-1,j=0,Q=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(N=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++j===h&&(E=y),B===f&&++Q===o&&(N=y),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},bc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=Lr(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function wy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),o&4&&nl(5,a);break;case 1:if(Ki(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){$t(a,a.return,y)}else{var h=Lr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}o&64&&vy(a),o&512&&il(a,a.return);break;case 3:if(Ki(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{up(e,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Ki(e,a),n===null&&o&4&&Ty(a),o&512&&il(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),o&4&&Iy(e,a);break;case 13:Ki(e,a),o&4&&Ny(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ub.bind(null,a),Nb(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||we,h=Gi;var f=we;Gi=o,(we=n)&&!f?Yi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Gi=h,we=f}break;case 30:break;default:Ki(e,a)}}function Ry(e){var n=e.alternate;n!==null&&(e.alternate=null,Ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Qi(e,n,a){for(a=a.child;a!==null;)Cy(e,n,a),a=a.sibling}function Cy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:we||Ai(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ai(a,n);var o=le,h=on;Vs(a.type)&&(le=a.stateNode,on=!1),Qi(e,n,a),fl(a.stateNode),le=o,on=h;break;case 5:we||Ai(a,n);case 6:if(o=le,h=on,le=null,Qi(e,n,a),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:le!==null&&(on?(e=le,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):v_(le,a.stateNode));break;case 4:o=le,h=on,le=a.stateNode.containerInfo,on=!0,Qi(e,n,a),le=o,on=h;break;case 0:case 11:case 14:case 15:Cs(2,a,n),we||Cs(4,a,n),Qi(e,n,a);break;case 1:we||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ey(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Qi(e,n,a),we=o;break;default:Qi(e,n,a)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){$t(n,n.return,a)}}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){$t(n,n.return,a)}}function eb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(r(435,e.tag))}}function nc(e,n){var a=eb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=cb.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(r(160));Cy(f,y,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var $n=null;function xy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Cs(3,e,e.return),nl(3,e),Cs(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(we||a===null||Ai(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(ln(n,e),un(e),o&512&&(we||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var y=x_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(y=x_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else D_(h,e.type,e.stateNode);else e.stateNode=N_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?D_(h,e.type,e.stateNode):N_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(we||a===null||Ai(a,a.return)),a!==null&&o&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(we||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ct){$t(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){$t(e,e.return,ct)}}break;case 3:if(_c=null,h=$n,$n=pc(n.containerInfo),ln(n,e),$n=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ct){$t(e,e.return,ct)}td&&(td=!1,Dy(e));break;case 4:o=$n,$n=pc(e.stateNode.containerInfo),ln(n,e),un(e),$n=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Gi,Q=we;if(Gi=j||h,we=Q||N,ln(n,e),we=Q,Gi=j,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Gi||we||Pr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){$t(N,N.return,ct)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ct){$t(N,N.return,ct)}}}else if(n.tag===18){if(a===null){N=n;try{var H=N.stateNode;h?E_(H,!0):E_(N.stateNode,!1)}catch(ct){$t(N,N.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(by(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(e);ec(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var E=Jf(e);ec(e,E,y);break;case 3:case 4:var N=a.stateNode.containerInfo,j=Jf(e);Wf(e,j,N);break;default:throw Error(r(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Pr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ey(n,n.return,a),Pr(n);break;case 27:fl(n.stateNode);case 26:case 5:Ai(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),nl(4,f);break;case 1:if(Yi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)lp(N[h],E)}catch(j){$t(o,o.return,j)}}a&&y&64&&vy(f),il(f,f.return);break;case 27:Ay(f);case 26:case 5:Yi(h,f,a),a&&o===null&&y&4&&Ty(f),il(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&y&4&&Iy(h,f);break;case 13:Yi(h,f,a),a&&y&4&&Ny(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),il(f,f.return);break;case 30:break;default:Yi(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Zn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(e,n,a,o),n=n.sibling}function Oy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,a,o),h&2048&&nl(9,n);break;case 1:Zn(e,n,a,o);break;case 3:Zn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Zn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$t(n,n.return,N)}}else Zn(e,n,a,o);break;case 31:Zn(e,n,a,o);break;case 13:Zn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,a,o):sl(e,n):f._visibility&2?Zn(e,n,a,o):(f._visibility|=2,Da(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(y,n);break;case 24:Zn(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:Zn(e,n,a,o)}}function Da(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,N=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Da(f,y,E,N,h),nl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Da(f,y,E,N,h):sl(f,y):(Q._visibility|=2,Da(f,y,E,N,h)),h&&j&2048&&ed(y.alternate,y);break;case 24:Da(f,y,E,N,h),h&&j&2048&&nd(y.alternate,y);break;default:Da(f,y,E,N,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&ed(o.alternate,o);break;case 24:sl(a,o),h&2048&&nd(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var rl=8192;function Oa(e,n,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)My(e,n,a),e=e.sibling}function My(e,n,a){switch(e.tag){case 26:Oa(e,n,a),e.flags&rl&&e.memoizedState!==null&&Bb(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,a);break;case 3:case 4:var o=$n;$n=pc(e.stateNode.containerInfo),Oa(e,n,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Oa(e,n,a),rl=o):Oa(e,n,a));break;default:Oa(e,n,a)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):al(e);break;default:al(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function ky(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Ry(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var nb={getCacheForType:function(e){var n=qe(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(be).controller.signal}},ib=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,xt=null,Ot=0,Xt=0,Tn=null,Is=!1,Ma=!1,id=!1,Xi=0,he=0,Ns=0,zr=0,sd=0,bn=0,Va=0,ol=null,cn=null,rd=!1,sc=0,Ly=0,rc=1/0,ac=null,xs=null,Oe=0,Ds=null,Ua=null,$i=0,ad=0,od=null,Py=null,ll=0,ld=null;function An(){return(Qt&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?md():ou()}function zy(){if(bn===0)if((Ot&536870912)===0||Lt){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function hn(e,n,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Os(e,Ot,bn,!1)),dr(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(zr|=a),he===4&&Os(e,Ot,bn,!1)),Si(e))}function jy(e,n,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?ab(e,n):cd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Os(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!sb(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ol;var N=E.current.memoizedState.isDehydrated;if(N&&(ka(E,y).flags|=256),y=cd(E,y,!1),y!==2){if(id&&!N){E.errorRecoveryDisabledLanes|=f,zr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Os(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Os(o,n,bn,!Is);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-tn(),10<h)){if(Os(o,n,bn,!Is),ai(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=y_(By.bind(null,o,a,cn,ac,rd,n,bn,zr,Va,Is,f,"Throttled",-0,0),h);break t}By(o,a,cn,ac,rd,n,bn,zr,Va,Is,f,null,-0,0)}}break}while(!0);Si(e)}function By(e,n,a,o,h,f,y,E,N,j,Q,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},My(n,f,$);var ct=(f&62914560)===f?sc-tn():(f&4194048)===f?Ly-tn():0;if(ct=qb($,ct),ct!==null){$i=f,e.cancelPendingCommit=ct(Xy.bind(null,e,n,f,a,o,h,y,E,N,Q,$,null,B,H)),Os(e,f,y,!j);return}}Xy(e,n,f,a,o,h,y,E,N)}function sb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,a,o){n&=~sd,n&=~zr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&mr(e,a,n)}function oc(){return(Qt&6)===0?(ul(0),!1):!0}function ud(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,zi=xr=null,wf(e),Ra=null,Go=0,e=xt;for(;e!==null;)_y(e.alternate,e),e=e.return;xt=null}}function ka(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,ud(),ee=e,xt=a=Li(e.current,null),Ot=n,Xt=0,Tn=null,Is=!1,Ma=Bn(e,n),id=!1,Va=bn=sd=zr=Ns=he=0,cn=ol=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Iu(),a}function qy(e,n){Rt=null,F.H=Wo,n===wa||n===ku?(n=sp(),Xt=3):n===df?(n=sp(),Xt=4):Xt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,xt===null&&(he=1,$u(e,Dn(n,e.current)))}function Hy(){var e=vn.current;return e===null?!0:(Ot&4194048)===Ot?Un===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Un:!1}function Fy(){var e=F.H;return F.H=Wo,e===null?Wo:e}function Gy(){var e=F.A;return F.A=nb,e}function lc(){he=4,Is||(Ot&4194048)!==Ot&&vn.current!==null||(Ma=!0),(Ns&134217727)===0&&(zr&134217727)===0||ee===null||Os(ee,Ot,bn,!1)}function cd(e,n,a){var o=Qt;Qt|=2;var h=Fy(),f=Gy();(ee!==e||Ot!==n)&&(ac=null,ka(e,n)),n=!1;var y=he;t:do try{if(Xt!==0&&xt!==null){var E=xt,N=Tn;switch(Xt){case 8:ud(),y=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var j=Xt;if(Xt=0,Tn=null,La(e,E,N,j),a&&Ma){y=0;break t}break;default:j=Xt,Xt=0,Tn=null,La(e,E,N,j)}}rb(),y=he;break}catch(Q){qy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=xr=null,Qt=o,F.H=h,F.A=f,xt===null&&(ee=null,Ot=0,Iu()),y}function rb(){for(;xt!==null;)Qy(xt)}function ab(e,n){var a=Qt;Qt|=2;var o=Fy(),h=Gy();ee!==e||Ot!==n?(ac=null,rc=tn()+500,ka(e,n)):Ma=Bn(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var f=Tn;e:switch(Xt){case 1:Xt=0,Tn=null,La(e,n,f,1);break;case 2:case 9:if(np(f)){Xt=0,Tn=null,Ky(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Si(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:np(f)?(Xt=0,Tn=null,Ky(n)):(Xt=0,Tn=null,La(e,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(y?O_(y):E.stateNode.complete){Xt=0,Tn=null;var N=E.sibling;if(N!==null)xt=N;else{var j=E.return;j!==null?(xt=j,uc(j)):xt=null}break e}}Xt=0,Tn=null,La(e,n,f,5);break;case 6:Xt=0,Tn=null,La(e,n,f,6);break;case 8:ud(),he=6;break t;default:throw Error(r(462))}}ob();break}catch(Q){qy(e,Q)}while(!0);return zi=xr=null,F.H=o,F.A=h,Qt=a,xt!==null?0:(ee=null,Ot=0,Iu(),he)}function ob(){for(;xt!==null&&!zh();)Qy(xt)}function Qy(e){var n=py(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?uc(e):xt=n}function Ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=cy(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=cy(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:wf(n);default:_y(a,n),n=xt=Gg(n,Xi),n=py(a,n,Xi)}e.memoizedProps=e.pendingProps,n===null?uc(e):xt=n}function La(e,n,a,o){zi=xr=null,wf(n),Ra=null,Go=0;var h=n.return;try{if(X1(e,h,n,a,Ot)){he=1,$u(e,Dn(a,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;he=1,$u(e,Dn(a,e.current)),xt=null;return}n.flags&32768?(Lt||o===1?e=!0:Ma||(Ot&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Yy(n,Is);return}e=n.return;var a=J1(n.alternate,n,Xi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);he===0&&(he=5)}function Yy(e,n){do{var a=W1(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);he=6,xt=null}function Xy(e,n,a,o,h,f,y,E,N){e.cancelPendingCommit=null;do cc();while(Oe!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,qh(e,a,f,y,E,N),e===ee&&(xt=ee=null,Ot=0),Ua=n,Ds=e,$i=a,ad=f,od=h,Py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hb(ls,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,y=Qt,Qt|=4;try{tb(e,n,a)}finally{Qt=y,tt.p=h,F.T=o}}Oe=1,$y(),Zy(),Jy()}}function $y(){if(Oe===1){Oe=0;var e=Ds,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{xy(n,e);var f=bd,y=kg(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ug(E.ownerDocument.documentElement,E)){if(N!==null&&Qh(E)){var j=N.start,Q=N.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,yt=Math.min(N.start,ct),te=N.end===void 0?yt:Math.min(N.end,ct);!H.extend&&yt>te&&(y=te,te=yt,yt=y);var L=Vg(E,yt),U=Vg(E,te);if(L&&U&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==U.node||H.focusOffset!==U.offset)){var z=$.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),yt>te?(H.addRange(z),H.extend(U.node,U.offset)):(z.setEnd(U.node,U.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!Td,bd=Td=null}finally{Qt=h,tt.p=o,F.T=a}}e.current=n,Oe=2}}function Zy(){if(Oe===2){Oe=0;var e=Ds,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{wy(e,n.alternate,n)}finally{Qt=h,tt.p=o,F.T=a}}Oe=3}}function Jy(){if(Oe===4||Oe===3){Oe=0,tu();var e=Ds,n=Ua,a=$i,o=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ua=Ds=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xs=null),Mi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}($i&3)!==0&&cc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?ll++:(ll=0,ld=e):ll=0,ul(0)}}function Wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function cc(){return $y(),Zy(),Jy(),t_()}function t_(){if(Oe!==5)return!1;var e=Ds,n=ad;ad=0;var a=Mi($i),o=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=od,od=null;var f=Ds,y=$i;if(Oe=0,Ua=Ds=null,$i=0,(Qt&6)!==0)throw Error(r(331));var E=Qt;if(Qt|=4,Uy(f.current),Oy(f,f.current,y,a),Qt=E,ul(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{tt.p=h,F.T=o,Wy(e,n)}}function e_(e,n,a){n=Dn(a,n),n=jf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(dr(e,2),Si(e))}function $t(e,n,a){if(e.tag===3)e_(e,e,a);else for(;n!==null;){if(n.tag===3){e_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xs===null||!xs.has(o))){e=Dn(a,e),a=ny(2),o=Ss(n,a,2),o!==null&&(iy(a,o,n,e),dr(o,2),Si(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ib;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=lb.bind(null,e,n,a),n.then(e,e))}function lb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>tn()-sc?(Qt&2)===0&&ka(e,0):sd|=a,Va===Ot&&(Va=0)),Si(e)}function n_(e,n){n===0&&(n=au()),e=Cr(e,n),e!==null&&(dr(e,n),Si(e))}function ub(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),n_(e,a)}function cb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),n_(e,a)}function hb(e,n){return De(e,n)}var hc=null,Pa=null,fd=!1,fc=!1,dd=!1,Ms=0;function Si(e){e!==Pa&&e.next===null&&(Pa===null?hc=Pa=e:Pa=Pa.next=e),fc=!0,fd||(fd=!0,db())}function ul(e,n){if(!dd&&fc){dd=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,a_(o,f))}else f=Ot,f=ai(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,a_(o,f));o=o.next}while(a);dd=!1}}function fb(){i_()}function i_(){fc=fd=!1;var e=0;Ms!==0&&Ab()&&(e=Ms);for(var n=tn(),a=null,o=hc;o!==null;){var h=o.next,f=s_(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(Pa=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Oe!==0&&Oe!==5||ul(e),Ms!==0&&(Ms=0)}function s_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-fe(f),E=1<<y,N=h[y];N===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Bh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Ot,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&os(o),Mi(a)){case 2:case 8:a=vo;break;case 32:a=ls;break;case 268435456:a=eu;break;default:a=ls}return o=r_.bind(null,e),a=De(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function r_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Ot;return o=ai(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jy(e,o,n),s_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?r_.bind(null,e):null)}function a_(e,n){if(cc())return null;jy(e,n,!0)}function db(){wb(function(){(Qt&6)!==0?De(_o,fb):i_()})}function md(){if(Ms===0){var e=Aa;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Ms=e}return Ms}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function l_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function mb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=o_((h[Ue]||null).action),y=o.submitter;y&&(n=(n=y[Ue]||null)?o_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var N=y?l_(h,y):new FormData(h);Vf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=y?l_(h,y):new FormData(h),Vf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],gb=pd.toLowerCase(),pb=pd[0].toUpperCase()+pd.slice(1);Xn(gb,"on"+pb)}Xn(zg,"onAnimationEnd"),Xn(jg,"onAnimationIteration"),Xn(Bg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(O1,"onTransitionRun"),Xn(M1,"onTransitionStart"),Xn(V1,"onTransitionCancel"),Xn(qg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function u_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=N}else for(y=0;y<o.length;y++){if(E=o[y],N=E.instance,j=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=N}}}}function Dt(e,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=e+"__bubble";a.has(o)||(c_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),c_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[dc]){e[dc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(yb.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,yd("selectionchange",!1,n))}}function c_(e,n,a,o){switch(z_(n)){case 2:var h=Gb;break;case 8:h=Qb;break;default:h=Md}a=h.bind(null,n,a,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=f=y;continue t}E=E.parentNode}}o=o.return}ms(function(){var j=f,Q=Cn(a),$=[];t:{var B=Hg.get(e);if(B!==void 0){var H=yi,ct=e;switch(e){case"keypress":if(Tr(a)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":ct="focus",H=Ar;break;case"focusout":ct="blur",H=Ar;break;case"beforeblur":case"afterblur":H=Ar;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case zg:case jg:case Bg:H=yu;break;case qg:H=b;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=wt}var yt=(n&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),L=yt?B!==null?B+"Capture":null:B;yt=[];for(var U=j,z;U!==null;){var Y=U;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=Gn(U,L),Y!=null&&yt.push(hl(U,Y,z))),te)break;U=U.return}0<yt.length&&(B=new H(B,ct,null,a,Q),$.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Do&&(ct=a.relatedTarget||a.fromElement)&&(ci(ct)||ct[li]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=j,ct=ct?ci(ct):null,ct!==null&&(te=c(ct),yt=ct.tag,ct!==te||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(yt=Uo,Y="onMouseLeave",L="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ki,Y="onPointerLeave",L="onPointerEnter",U="pointer"),te=H==null?B:gn(H),z=ct==null?B:gn(ct),B=new yt(Y,U+"leave",H,a,Q),B.target=te,B.relatedTarget=z,Y=null,ci(Q)===j&&(yt=new yt(L,U+"enter",ct,a,Q),yt.target=z,yt.relatedTarget=te,Y=yt),te=Y,H&&ct)e:{for(yt=_b,L=H,U=ct,z=0,Y=L;Y;Y=yt(Y))z++;Y=0;for(var mt=U;mt;mt=yt(mt))Y++;for(;0<z-Y;)L=yt(L),z--;for(;0<Y-z;)U=yt(U),Y--;for(;z--;){if(L===U||U!==null&&L===U.alternate){yt=L;break e}L=yt(L),U=yt(U)}yt=null}else yt=null;H!==null&&h_($,B,H,yt,!1),ct!==null&&te!==null&&h_($,te,ct,yt,!0)}}t:{if(B=j?gn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=Ig;else if(Rg(B))if(Ng)qt=N1;else{qt=C1;var ft=R1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&oa(j.elementType)&&(qt=Ig):qt=I1;if(qt&&(qt=qt(e,j))){Cg($,qt,a,Q);break t}ft&&ft(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Io(B,"number",B.value)}switch(ft=j?gn(j):window,e){case"focusin":(Rg(ft)||ft.contentEditable==="true")&&(ga=ft,Kh=j,jo=null);break;case"focusout":jo=Kh=ga=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Lg($,a,Q);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":Lg($,a,Q)}var It;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ma?Sr(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ei&&a.locale!=="ko"&&(ma||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ma&&(It=Mo()):(pi=Q,Oo="value"in pi?pi.value:pi.textContent,ma=!0)),ft=mc(j,Mt),0<ft.length&&(Mt=new vi(Mt,e,null,a,Q),$.push({event:Mt,listeners:ft}),It?Mt.data=It:(It=da(a),It!==null&&(Mt.data=It)))),(It=Nn?b1(e,a):A1(e,a))&&(Mt=mc(j,"onBeforeInput"),0<Mt.length&&(ft=new vi("onBeforeInput","beforeinput",null,a,Q),$.push({event:ft,listeners:Mt}),ft.data=It)),mb($,e,j,a,Q)}u_($,n)})}function hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(hl(e,h,f)),h=Gn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _b(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=Gn(a,f),j!=null&&y.unshift(hl(a,j,N))):h||(j=Gn(a,f),j!=null&&y.push(hl(a,j,N)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var vb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(Eb,"")}function d_(e,n){return n=f_(n),f_(e)===n}function Wt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ra(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ra(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(e,n,f,y,a,null)}}h&&Wt(e,n,"srcSet",a.srcSet,a,null),o&&Wt(e,n,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=f=y=h=null,N=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":N=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Wt(e,n,o,Q,a,null)}}hu(e,f,E,N,j,y,h,!1);return;case"select":Dt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Wt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):a!=null&&cs(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(e,n,y,E,a,null)}hs(e,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,N,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Dt(cl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(e,n,j,o,a,null)}return;default:if(oa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Ed(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,n,E,o,a,null))}function Tb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,N=null,j=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=$;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&Wt(e,n,B,H,o,$)}}aa(e,y,E,N,j,Q,f,h);return;case"select":H=y=E=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==N&&Wt(e,n,h,f,o,N)}n=E,a=y,o=H,B!=null?cs(e,!!a,B,!1):!!o!=!!a&&(n!=null?cs(e,!!a,n,!0):cs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Wt(e,n,y,h,o,f)}fu(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Wt(e,n,ct,null,o,B)}for(N in o)if(B=o[N],H=a[N],o.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Wt(e,n,N,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&Wt(e,n,yt,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Wt(e,n,j,B,o,H)}return;default:if(oa(n)){for(var te in a)B=a[te],a.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&Ed(e,n,te,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Ed(e,n,Q,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&Wt(e,n,L,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||Wt(e,n,$,B,o,H)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&m_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],j=N.startTime;if(j>E)break;var Q=N.transferSize,$=N.initiatorType;Q&&m_($)&&(N=N.responseEnd,y+=Q*(N<E?1:(E-j)/(N-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,bd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function Ab(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch(Rb)}:y_;function Rb(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function v_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&fl(e.ownerDocument.body);a=h}while(a);qa(n)}function E_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function Ib(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function T_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Id=null;function b_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Ln=new Map,w_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=tt.d;tt.d={f:xb,r:Db,D:Ob,C:Mb,L:Vb,m:Ub,X:Lb,S:kb,M:Pb};function xb(){var e=Zi.f(),n=oc();return e||n}function Db(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?qp(n):Zi.r(e)}var za=typeof document>"u"?null:document;function R_(e,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Ob(e){Zi.D(e),R_("dns-prefetch",e,null)}function Mb(e,n){Zi.C(e,n),R_("preconnect",e,n)}function Vb(e,n,a){Zi.L(e,n,a);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}Ln.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Ub(e,n){Zi.m(e,n);var a=za;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function kb(e,n,a){Zi.S(e,n,a);var o=za;if(o&&e){var h=hi(o).hoistableStyles,f=ja(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(dl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Nd(e,a);var N=y=o.createElement("link");Ee(N),Fe(N,"link",e),N._p=new Promise(function(j,Q){N.onload=j,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Lb(e,n){Zi.X(e,n);var a=za;if(a&&e){var o=hi(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=Ln.get(h))&&xd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Pb(e,n){Zi.M(e,n);var a=za;if(a&&e){var o=hi(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&xd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,n,a,o){var h=(h=Ct.current)?pc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ja(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=hi(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(dl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||zb(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ee(n),e.head.appendChild(n))}function Ba(e){return'[src="'+rn(e)+'"]'}function ml(e){return"script[async]"+e}function N_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=I_(a),(h=Ln.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var y=f;return y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),Fe(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Ln.get(f))&&(o=A({},a),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function x_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function D_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function jb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=I_(o),(h=Ln.get(h))&&Nd(o,h),f=f.createElement("link"),Ee(f);var y=f;y._p=new Promise(function(E,N){y.onload=E,y.onerror=N}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function qb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*bb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(Hb,e),Ec=null,vc.call(e))}function Hb(e,n){if(!(n.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Fb(e,n,a,o,h,f,y,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function M_(e,n,a,o,h,f,y,E,N,j,Q,$){return e=new Fb(e,n,a,y,N,j,Q,$,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function V_(e){return e?(e=_a,e):_a}function U_(e,n,a,o,h,f){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=As(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ss(e,o,n),a!==null&&(hn(a,e,n),Ko(a,e,n))}function k_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Od(e,n){k_(e,n),(e=e.alternate)&&k_(e,n)}function L_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&hn(n,e,67108864),Od(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var n=An();n=gr(n);var a=Cr(e,n);a!==null&&hn(a,e,n),Od(e,n)}}var bc=!0;function Gb(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,Md(e,n,a,o)}finally{tt.p=f,F.T=h}}function Qb(e,n,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,Md(e,n,a,o)}finally{tt.p=f,F.T=h}}function Md(e,n,a,o){if(bc){var h=Vd(o);if(h===null)vd(e,n,o,Ac,a),j_(e,o);else if(Yb(h,e,n,a,o))o.stopPropagation();else if(j_(e,o),n&4&&-1<Kb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ri(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var N=1<<31-fe(y);E.entanglements[1]|=N,y&=~N}Si(f),(Qt&6)===0&&(rc=tn()+500,ul(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&hn(E,f,2),oc(),Od(f,2)}if(f=Vd(o),f===null&&vd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function Vd(e){return e=Cn(e),Ud(e)}var Ac=null;function Ud(e){if(Ac=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case _o:return 2;case vo:return 8;case ls:case jh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var kd=!1,Us=null,ks=null,Ls=null,pl=new Map,yl=new Map,Ps=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&L_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Yb(e,n,a,o,h){switch(n){case"focusin":return Us=_l(Us,e,n,a,o,h),!0;case"dragenter":return ks=_l(ks,e,n,a,o,h),!0;case"mouseover":return Ls=_l(Ls,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,a,o,h)),!0}return!1}function B_(e){var n=ci(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){P_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,qn(e.priority,function(){P_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Rn(a),n!==null&&L_(n),e.blockedOn=a,!1;n.shift()}return!0}function q_(e,n,a){Sc(e)&&a.delete(n)}function Xb(){kd=!1,Us!==null&&Sc(Us)&&(Us=null),ks!==null&&Sc(ks)&&(ks=null),Ls!==null&&Sc(Ls)&&(Ls=null),pl.forEach(q_),yl.forEach(q_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xb)))}var Rc=null;function H_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function n(N){return wc(N,e)}Us!==null&&wc(Us,e),ks!==null&&wc(ks,e),Ls!==null&&wc(Ls,e),pl.forEach(n),yl.forEach(n);for(var a=0;a<Ps.length;a++){var o=Ps[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&Ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ue]||null;if(typeof f=="function")y||H_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ue]||null)E=y.formAction;else if(Ud(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),H_(a)}}}function F_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Cc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();U_(a,o,e,n,null,null)},Cc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),oc(),n[li]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ps.length&&n!==0&&n<Ps[a].priority;a++);Ps.splice(a,0,e),a===0&&B_(e)}};var G_=t.version;if(G_!=="19.2.0")throw Error(r(527,G_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var $b={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{jn=Ic.inject($b),ze=Ic}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Jp,f=Wp,y=ty;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=M_(e,1,!1,null,null,a,o,null,h,f,y,F_),e[li]=n.current,_d(e),new Ld(n)},El.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Jp,y=Wp,E=ty,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=M_(e,1,!0,n,a??null,o,h,N,f,y,E,F_),n.context=V_(null),a=n.current,o=An(),o=gr(o),h=As(o),h.callback=null,Ss(a,h,o),a=o,n.current.lanes=a,dr(n,a),Si(n),e[li]=n.current,_d(e),new Cc(n)},El.version="19.2.0",El}var ev;function aA(){if(ev)return jd.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=rA(),jd.exports}var oA=aA();const lA=()=>{};var nv={};const L0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},uA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,V=_&63;p||(V=64,d||(w=64)),r.push(i[T],i[A],i[w],i[V])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(L0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new cA;const w=c<<2|g>>4;if(r.push(w),_!==64){const V=g<<4&240|_>>2;if(r.push(V),A!==64){const G=_<<6&192|A;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(s){const t=L0(s);return P0.encodeByteArray(t,!0)},Gc=function(s){return hA(s).replace(/\./g,"")},z0=function(s){try{return P0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof nv>"u")return;const s=nv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&z0(s[1]);return t&&JSON.parse(t)},dh=()=>{try{return lA()||dA()||mA()||gA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},j0=s=>dh()?.emulatorHosts?.[s],pA=s=>{const t=j0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},B0=()=>dh()?.config,q0=s=>dh()?.[`_${s}`];class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function oo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(s){return(await fetch(s,{credentials:"include"})).ok}function _A(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function vA(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function EA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let iv=!1;function F0(s,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||wl[s]===t||wl[s]||iv)return;wl[s]=t;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=vA().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iv=!0,d()},w}function T(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=EA(r),V=i("text"),G=document.getElementById(V)||document.createElement("span"),W=i("learnmore"),K=document.getElementById(W)||document.createElement("a"),rt=i("preprendIcon"),at=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;g(it),T(K,W);const pt=_();p(at,rt),it.append(at,G,K,pt),document.body.appendChild(it)}c?(G.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function bA(){const s=dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IA(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xA="FirebaseError";class as extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=xA,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?DA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new as(l,g,r)}}function DA(s,t){return s.replace(OA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const OA=/\{\$([^}]+)}/g;function MA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Fr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(sv(c)&&sv(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function sv(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function VA(s,t){const i=new UA(s,t);return i.subscribe.bind(i)}class UA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");kA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Ve(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class LA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new yA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zA(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PA(s){return s===jr?void 0:s}function zA(s){return s.instantiationMode==="EAGER"}class jA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new LA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const BA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},qA=Vt.INFO,HA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},FA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=HA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=FA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const GA=(s,t)=>t.some(i=>s instanceof i);let rv,av;function QA(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KA(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,am=new WeakMap,Q0=new WeakMap,Gd=new WeakMap,Um=new WeakMap;function YA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&G0.set(i,s)}).catch(()=>{}),Um.set(t,s),t}function XA(s){if(am.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});am.set(s,t)}let om={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return am.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Q0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $A(s){om=s(om)}function ZA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qd(this),t,...i);return Q0.set(r,t.sort?t.sort():[t]),Qs(r)}:KA().includes(s)?function(...t){return s.apply(Qd(this),t),Qs(G0.get(this))}:function(...t){return Qs(s.apply(Qd(this),t))}}function JA(s){return typeof s=="function"?ZA(s):(s instanceof IDBTransaction&&XA(s),GA(s,QA())?new Proxy(s,om):s)}function Qs(s){if(s instanceof IDBRequest)return YA(s);if(Gd.has(s))return Gd.get(s);const t=JA(s);return t!==s&&(Gd.set(s,t),Um.set(t,s)),t}const Qd=s=>Um.get(s);function WA(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Qs(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Qs(d.result),p.oldVersion,p.newVersion,Qs(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const tS=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Kd=new Map;function ov(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=eS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||tS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Kd.set(t,c),c}$A(s=>({...s,get:(t,i,r)=>ov(t,i)||s.get(t,i,r),has:(t,i)=>!!ov(t,i)||s.has(t,i)}));class nS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iS(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",lv="0.14.6";const es=new Vm("@firebase/app"),sS="@firebase/app-compat",rS="@firebase/analytics-compat",aS="@firebase/analytics",oS="@firebase/app-check-compat",lS="@firebase/app-check",uS="@firebase/auth",cS="@firebase/auth-compat",hS="@firebase/database",fS="@firebase/data-connect",dS="@firebase/database-compat",mS="@firebase/functions",gS="@firebase/functions-compat",pS="@firebase/installations",yS="@firebase/installations-compat",_S="@firebase/messaging",vS="@firebase/messaging-compat",ES="@firebase/performance",TS="@firebase/performance-compat",bS="@firebase/remote-config",AS="@firebase/remote-config-compat",SS="@firebase/storage",wS="@firebase/storage-compat",RS="@firebase/firestore",CS="@firebase/ai",IS="@firebase/firestore-compat",NS="firebase",xS="12.6.0";const um="[DEFAULT]",DS={[lm]:"fire-core",[sS]:"fire-core-compat",[aS]:"fire-analytics",[rS]:"fire-analytics-compat",[lS]:"fire-app-check",[oS]:"fire-app-check-compat",[uS]:"fire-auth",[cS]:"fire-auth-compat",[hS]:"fire-rtdb",[fS]:"fire-data-connect",[dS]:"fire-rtdb-compat",[mS]:"fire-fn",[gS]:"fire-fn-compat",[pS]:"fire-iid",[yS]:"fire-iid-compat",[_S]:"fire-fcm",[vS]:"fire-fcm-compat",[ES]:"fire-perf",[TS]:"fire-perf-compat",[bS]:"fire-rc",[AS]:"fire-rc-compat",[SS]:"fire-gcs",[wS]:"fire-gcs-compat",[RS]:"fire-fst",[IS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};const Qc=new Map,OS=new Map,cm=new Map;function uv(s,t){try{s.container.addComponent(t)}catch(i){es.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(cm.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,s);for(const i of Qc.values())uv(i,s);for(const i of OS.values())uv(i,s);return!0}function km(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Wn(s){return s==null?!1:s.settings!==void 0}const MS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Bl("app","Firebase",MS);class VS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const lo=xS;function K0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:um,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=B0()),!i)throw Ks.create("no-options");const c=Qc.get(l);if(c){if(Fr(i,c.options)&&Fr(r,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new jA(l);for(const p of cm.values())d.addComponent(p);const g=new VS(i,r,d);return Qc.set(l,g),g}function Y0(s=um){const t=Qc.get(s);if(!t&&s===um&&B0())return K0();if(!t)throw Ks.create("no-app",{appName:s});return t}function Ys(s,t,i){let r=DS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Wa(new Gr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const US="firebase-heartbeat-database",kS=1,Dl="firebase-heartbeat-store";let Yd=null;function X0(){return Yd||(Yd=WA(US,kS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function LS(s){try{const i=(await X0()).transaction(Dl),r=await i.objectStore(Dl).get($0(s));return await i.done,r}catch(t){if(t instanceof as)es.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});es.warn(i.message)}}}async function cv(s,t){try{const r=(await X0()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(t,$0(s)),await r.done}catch(i){if(i instanceof as)es.warn(i.message);else{const r=Ks.create("idb-set",{originalErrorMessage:i?.message});es.warn(r.message)}}}function $0(s){return`${s.name}!${s.options.appId}`}const PS=1024,zS=30;class jS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>zS){const l=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hv(),{heartbeatsToSend:i,unsentEntries:r}=BS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return es.warn(t),""}}}function hv(){return new Date().toISOString().substring(0,10)}function BS(s,t=PS){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),fv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),fv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class qS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IA()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function fv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function HS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function FS(s){Wa(new Gr("platform-logger",t=>new nS(t),"PRIVATE")),Wa(new Gr("heartbeat",t=>new jS(t),"PRIVATE")),Ys(lm,lv,s),Ys(lm,lv,"esm2020"),Ys("fire-js","")}FS("");var GS="firebase",QS="12.6.0";Ys(GS,QS,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KS=Z0,J0=new Bl("auth","Firebase",Z0());const Kc=new Vm("@firebase/auth");function YS(s,...t){Kc.logLevel<=Vt.WARN&&Kc.warn(`Auth (${lo}): ${s}`,...t)}function Uc(s,...t){Kc.logLevel<=Vt.ERROR&&Kc.error(`Auth (${lo}): ${s}`,...t)}function ns(s,...t){throw Lm(s,...t)}function Ri(s,...t){return Lm(s,...t)}function W0(s,t,i){const r={...KS(),[t]:i};return new Bl("auth","Firebase",r).create(t,{appName:s.name})}function Xs(s){return W0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return J0.create(s,...t)}function Et(s,t,...i){if(!s)throw Lm(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Uc(t),new Error(t)}function is(s,t){s||Ji(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function XS(){return dv()==="http:"||dv()==="https:"}function dv(){return typeof self<"u"&&self.location?.protocol||null}function $S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XS()||SA()||"connection"in navigator)?navigator.onLine:!0}function ZS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=TA()||wA()}get(){return $S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(s,t){is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class tE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tw=new Hl(3e4,6e4);function mh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function uo(s,t,i,r,l={}){return eE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=ql({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return AA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&oo(s.emulatorConfig.host)&&(_.credentials="include"),tE.fetch()(await iE(s,s.config.apiHost,i,g),_)})}async function eE(s,t,i){s._canInitEmulator=!1;const r={...JS,...t};try{const l=new ew(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Nc(s,"user-disabled",d);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw W0(s,T,_);ns(s,T)}}catch(l){if(l instanceof as)throw l;ns(s,"network-request-failed",{message:String(l)})}}async function nE(s,t,i,r,l={}){const c=await uo(s,t,i,r,l);return"mfaPendingCredential"in c&&ns(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function iE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Pm(s.config,l):`${s.config.apiScheme}://${l}`;return WS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ew{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),tw.get())})}}function Nc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ri(s,t,r);return l.customData._tokenResponse=i,l}async function nw(s,t){return uo(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return uo(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iw(s,t=!1){const i=Ve(s),r=await i.getIdToken(t),l=zm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Rl(Xd(l.auth_time)),issuedAtTime:Rl(Xd(l.iat)),expirationTime:Rl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function zm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=z0(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function mv(s){const t=zm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof as&&sw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function sw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class rw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),r=await Ol(s,Yc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?sE(l.providerUserInfo):[],d=ow(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function aw(s){const t=Ve(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ow(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function sE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function lw(s,t){const i=await eE(s,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await iE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&oo(s.emulatorConfig.host)&&(p.credentials="include"),tE.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function uw(s,t){return uo(s,"POST","/v2/accounts:revokeToken",mh(s,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=mv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await lw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Xa;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function js(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new rw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return iw(this,t)}reload(){return aw(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await Ol(this,nw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:V,providerData:G,stsTokenManager:W}=i;Et(A&&W,t,"internal-error");const K=Xa.fromJSON(this.name,W);Et(typeof A=="string",t,"internal-error"),js(r,t.name),js(l,t.name),Et(typeof w=="boolean",t,"internal-error"),Et(typeof V=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(g,t.name),js(p,t.name),js(_,t.name),js(T,t.name);const rt=new ti({uid:A,auth:t,email:l,emailVerified:w,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:K,createdAt:_,lastLoginAt:T});return G&&Array.isArray(G)&&(rt.providerData=G.map(at=>({...at}))),p&&(rt._redirectEventId=p),rt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?sE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(r);const p=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const gv=new Map;function Wi(s){is(s instanceof Function,"Expected a class definition");let t=gv.get(s);return t?(is(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,gv.set(s,t),t)}class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rE.type="NONE";const pv=rE;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new $a(Wi(pv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(pv);const d=kc(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const w=await Yc(t,{idToken:T}).catch(()=>{});if(!w)break;A=await ti._fromGetAccountInfoResponse(t,w,T)}else A=ti._fromJSON(t,T);_!==c&&(g=A),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new $a(c,t,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,t,r))}}function yv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hE(t))return"Blackberry";if(fE(t))return"Webos";if(oE(t))return"Safari";if((t.includes("chrome/")||lE(t))&&!t.includes("edge/"))return"Chrome";if(cE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function aE(s=We()){return/firefox\//i.test(s)}function oE(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lE(s=We()){return/crios\//i.test(s)}function uE(s=We()){return/iemobile/i.test(s)}function cE(s=We()){return/android/i.test(s)}function hE(s=We()){return/blackberry/i.test(s)}function fE(s=We()){return/webos/i.test(s)}function jm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cw(s=We()){return jm(s)&&!!window.navigator?.standalone}function hw(){return RA()&&document.documentMode===10}function dE(s=We()){return jm(s)||cE(s)||fE(s)||hE(s)||/windows phone/i.test(s)||uE(s)}function mE(s,t=[]){let i;switch(s){case"Browser":i=yv(We());break;case"Worker":i=`${yv(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${r}`}class fw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dw(s,t={}){return uo(s,"GET","/v2/passwordPolicy",mh(s,t))}const mw=6;class gw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??mw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class pw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(Xs(this));const i=t?Ve(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dw(this),i=new gw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await uw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gh(s){return Ve(s)}class _v{constructor(t){this.auth=t,this.observer=null,this.addObserver=VA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yw(s){Bm=s}function _w(s){return Bm.loadJS(s)}function vw(){return Bm.gapiScript}function Ew(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Tw(s,t){const i=km(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return l;ns(l,"already-initialized")}return i.initialize({options:t})}function bw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Aw(s,t,i){const r=gh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=gE(t),{host:d,port:g}=Sw(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Fr(_,r.config.emulator)&&Fr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,oo(d)?(H0(`${c}//${d}${p}`),F0("Auth",!0)):ww()}function gE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Sw(s){const t=gE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:vv(d)}}}function vv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function ww(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Za(s,t){return nE(s,"POST","/v1/accounts:signInWithIdp",mh(s,t))}const Rw="http://localhost";class Qr extends pE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:Rw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class yE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Fl{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return qs.credential(i,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Fl{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Fs extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function Cw(s,t){return nE(s,"POST","/v1/accounts:signUp",mh(s,t))}class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ti._fromIdTokenResponse(t,r,l),d=Ev(r);return new Ws({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Ev(r);return new Ws({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Iw(s){if(Wn(s.app))return Promise.reject(Xs(s));const t=gh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Cw(t,{returnSecureToken:!0}),r=await Ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class $c extends as{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function _E(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,r):c})}async function Nw(s,t,i=!1){const r=await Ol(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ws._forOperation(s,"link",r)}async function xw(s,t,i=!1){const{auth:r}=s;if(Wn(r.app))return Promise.reject(Xs(r));const l="reauthenticate";try{const c=await Ol(s,_E(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=zm(c.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),Ws._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(r,"user-mismatch"),c}}async function Dw(s,t,i=!1){if(Wn(s.app))return Promise.reject(Xs(s));const r="signIn",l=await _E(s,r,t),c=await Ws._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Ow(s,t,i,r){return Ve(s).onIdTokenChanged(t,i,r)}function Mw(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}function Vw(s,t,i,r){return Ve(s).onAuthStateChanged(t,i,r)}const Zc="__sak";class vE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uw=1e3,kw=10;class EE extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);hw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}EE.type="LOCAL";const Lw=EE;class TE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}TE.type="SESSION";const bE=TE;function Pw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new ph(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await Pw(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function qm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class zw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=qm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function jw(s){Ci().location.href=s}function AE(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function Bw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qw(){return navigator?.serviceWorker?.controller||null}function Hw(){return AE()?self:null}const SE="firebaseLocalStorageDb",Fw=1,Jc="firebaseLocalStorage",wE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Gw(){const s=indexedDB.deleteDatabase(SE);return new Gl(s).toPromise()}function dm(){const s=indexedDB.open(SE,Fw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Jc,{keyPath:wE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Jc)?t(r):(r.close(),await Gw(),t(await dm()))})})}async function Tv(s,t,i){const r=yh(s,!0).put({[wE]:t,value:i});return new Gl(r).toPromise()}async function Qw(s,t){const i=yh(s,!1).get(t),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function bv(s,t){const i=yh(s,!0).delete(t);return new Gl(i).toPromise()}const Kw=800,Yw=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Yw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Hw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bw(),!this.activeServiceWorker)return;this.sender=new zw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await Tv(t,Zc,"1"),await bv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Qw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>bv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const Xw=RE;new Hl(3e4,6e4);function $w(s,t){return t?Wi(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Hm extends pE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Zw(s){return Dw(s.auth,new Hm(s),s.bypassAuthState)}function Jw(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),xw(i,new Hm(s),s.bypassAuthState)}async function Ww(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),Nw(i,new Hm(s),s.bypassAuthState)}class CE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Zw;case"linkViaPopup":case"linkViaRedirect":return Ww;case"reauthViaPopup":case"reauthViaRedirect":return Jw;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tR=new Hl(2e3,1e4);class Ya extends CE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tR.get())};t()}}Ya.currentPopupAction=null;const eR="pendingRedirect",Lc=new Map;class nR extends CE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const r=await iR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iR(s,t){const i=aR(t),r=rR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function sR(s,t){Lc.set(s._key(),t)}function rR(s){return Wi(s._redirectPersistence)}function aR(s){return kc(eR,s.config.apiKey,s.name)}async function oR(s,t,i=!1){if(Wn(s.app))return Promise.reject(Xs(s));const r=gh(s),l=$w(r,t),d=await new nR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const lR=600*1e3;class uR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!IE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(t))}saveEventToCache(t){this.cachedEventUids.add(Av(t)),this.lastProcessedEventTime=Date.now()}}function Av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function IE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function cR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(s);default:return!1}}async function hR(s,t={}){return uo(s,"GET","/v1/projects",t)}const fR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dR=/^https?/;async function mR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await hR(s);for(const i of t)try{if(gR(i))return}catch{}ns(s,"unauthorized-domain")}function gR(s){const t=hm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!dR.test(i))return!1;if(fR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const pR=new Hl(3e4,6e4);function Sv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yR(s){return new Promise((t,i)=>{function r(){Sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(Ri(s,"network-request-failed"))},timeout:pR.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=Ew("iframefcb");return Ci()[l]=()=>{gapi.load?r():i(Ri(s,"network-request-failed"))},_w(`${vw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function _R(s){return Pc=Pc||yR(s),Pc}const vR=new Hl(5e3,15e3),ER="__/auth/iframe",TR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SR(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Pm(t,TR):`https://${s.config.authDomain}/${ER}`,r={apiKey:t.apiKey,appName:s.name,v:lo},l=AR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ql(r).slice(1)}`}async function wR(s){const t=await _R(s),i=Ci().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:SR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},vR.get());function p(){Ci().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,IR=600,NR="_blank",xR="http://localhost";class wv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DR(s,t,i,r=CR,l=IR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...RR,width:r.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(g=lE(_)?NR:i),aE(_)&&(t=t||xR,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[V,G])=>`${w}${V}=${G},`,"");if(cw(_)&&g!=="_self")return OR(t||"",g),new wv(null);const A=window.open(t||"",g,T);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new wv(A)}function OR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const MR="__/auth/handler",VR="emulator/auth/handler",UR=encodeURIComponent("fac");async function Rv(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:lo,eventId:l};if(t instanceof yE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",MA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Fl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${UR}=${encodeURIComponent(p)}`:"";return`${kR(s)}?${ql(g).slice(1)}${_}`}function kR({config:s}){return s.emulator?Pm(s,VR):`https://${s.authDomain}/${MR}`}const $d="webStorageSupport";class LR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=oR,this._overrideRedirectResult=sR}async _openPopup(t,i,r,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Rv(t,i,r,hm(),l);return DR(t,c,qm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Rv(t,i,r,hm(),l);return jw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await wR(t),r=new uR(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return dE()||oE()||jm()}}const PR=LR;var Cv="@firebase/auth",Iv="1.11.1";class zR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BR(s){Wa(new Gr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(s)},_=new pw(r,l,c,p);return bw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Wa(new Gr("auth-internal",t=>{const i=gh(t.getProvider("auth").getImmediate());return(r=>new zR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(Cv,Iv,jR(s)),Ys(Cv,Iv,"esm2020")}const qR=300,HR=q0("authIdTokenMaxAge")||qR;let Nv=null;const FR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>HR)return;const l=i?.token;Nv!==l&&(Nv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GR(s=Y0()){const t=km(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Tw(s,{popupRedirectResolver:PR,persistence:[Xw,Lw,bE]}),r=q0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=FR(c.toString());Mw(i,d,()=>d(i.currentUser)),Ow(i,g=>d(g))}}const l=j0("auth");return l&&Aw(i,`http://${l}`),i}function QR(){return document.getElementsByTagName("head")?.[0]??document}yw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",QR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BR("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,NE;(function(){var s;function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,D,k){for(var C=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)C[Bt-2]=arguments[Bt];return S.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],D=I.g[2];let k=I.g[3],C;C=S+(k^R&(D^k))+M[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^k&(R^D))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^k)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~k))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(M[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<S;)if(M[D++]=I[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[S++]=this.g[R]>>>M&255;return I};function c(I,S){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;const R=[];let M=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;M&&k==S||(R[D]=k,M=!1)}this.g=R}var g={};function p(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return K(_(-I));const S=[];let R=1;for(let M=0;I>=R;M++)S[M]=I/R|0,R*=4294967296;return new d(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return K(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let M=A;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+D),S);D<8?(D=_(Math.pow(S,D)),M=M.j(D).add(_(C))):(M=M.j(R),M=M.add(_(C)))}return M}var A=p(0),w=p(1),V=p(16777216);s=d.prototype,s.m=function(){if(W(this))return-K(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(W(this))return"-"+K(this).toString(I);const S=_(Math.pow(I,6));var R=this;let M="";for(;;){const D=pt(R,S).g;R=rt(R,D.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,G(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=rt(this,I),W(I)?-1:G(I)?0:1};function K(I){const S=I.g.length,R=[];for(let M=0;M<S;M++)R[M]=~I.g[M];return new d(R,~I.h).add(w)}s.abs=function(){return W(this)?K(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let k=M+(this.i(D)&65535)+(I.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=C>>>16,k&=65535,C&=65535,R[D]=C<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function rt(I,S){return I.add(K(S))}s.j=function(I){if(G(this)||G(I))return A;if(W(this))return W(I)?K(this).j(K(I)):K(K(this).j(I));if(W(I))return K(this.j(K(I)));if(this.l(V)<0&&I.l(V)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const k=this.i(M)>>>16,C=this.i(M)&65535,Bt=I.i(D)>>>16,Pt=I.i(D)&65535;R[2*M+2*D]+=C*Pt,at(R,2*M+2*D),R[2*M+2*D+1]+=k*Pt,at(R,2*M+2*D+1),R[2*M+2*D+1]+=C*Bt,at(R,2*M+2*D+1),R[2*M+2*D+2]+=k*Bt,at(R,2*M+2*D+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function at(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function it(I,S){this.g=I,this.h=S}function pt(I,S){if(G(S))throw Error("division by zero");if(G(I))return new it(A,A);if(W(I))return S=pt(K(I),S),new it(K(S.g),K(S.h));if(W(S))return S=pt(I,K(S)),new it(K(S.g),S.h);if(I.g.length>30){if(W(I)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=S;M.l(I)<=0;)R=dt(R),M=dt(M);var D=ot(R,1),k=ot(M,1);for(M=ot(M,2),R=ot(R,2);!G(M);){var C=k.add(M);C.l(I)<=0&&(D=D.add(R),k=C),M=ot(M,1),R=ot(R,1)}return S=rt(I,D.j(S)),new it(D,S)}for(D=A;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(R),C=k.j(S);W(C)||C.l(I)>0;)R-=M,k=_(R),C=k.j(S);G(k)&&(k=w),D=D.add(k),I=rt(I,C)}return new it(D,I)}s.B=function(I){return pt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function dt(I){const S=I.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function ot(I,S){const R=S>>5;S%=32;const M=I.g.length-R,D=[];for(let k=0;k<M;k++)D[k]=S>0?I.i(k+R)>>>S|I.i(k+R+1)<<32-S:I.i(k+R);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,$s=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xE,Tl,DE,zc,mm,OE,ME,VE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,q){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[P].apply(b,et)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function G(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=P[et]}else u.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const b=it.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new W(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ot=!1,I=new at,S=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(R)}};function R(){for(var u;u=rt();){try{u.h.call(u.g)}catch(v){K(v)}var m=it;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Bt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Bt,D),Bt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,b,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=Ct(u,m,b,P);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new tt(m,this.src,q,!!b,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,b){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,b,P);return null}return v=yo(v),u&&u[Pt]?u.J(m,v,g(b)?!!b.capture:!1,P):ur(u,m,v,!1,b,P)}function ur(u,m,v,b,P,q){if(!m)throw Error("Invalid event type");const et=g(P)?!!P.capture:!!P;let wt=cr(u);if(wt||(u[zt]=wt=new st(u)),v=wt.add(m,v,b,et,q),v.proxy)return v;if(b=Wr(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(ii(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wr(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function ta(u,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)ta(u,m[q],v,b,P);else b=g(b)?!!b.capture:!!b,v=yo(v),u&&u[Pt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ct(m,v,b,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,b,P)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Pt])Tt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ii(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=cr(m))?(Tt(v,u),v.h==0&&(v.src=null,m[zt]=null)):ht(u)}}}function ii(u){return u in xe?xe[u]:xe[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Bt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ea(u),u=v.call(b,m)}return u}function cr(u){return u=u[zt],u instanceof st?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function ye(){M.call(this),this.i=new st(this),this.M=this,this.G=null}A(ye,M),ye.prototype[Pt]=!0,ye.prototype.removeEventListener=function(u,m,v,b){ta(this,u,m,v,b)};function De(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),nt(m,P)}P=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],P=os(q,b,!0,m)&&P;if(q=m.g=u,P=os(q,b,!0,m)&&P,P=os(q,b,!1,m)&&P,v)for(et=0;et<v.length;et++)q=m.g=v[et],P=os(q,b,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function os(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const wt=et.listener,de=et.ha||et.src;et.fa&&Tt(u.i,et),P=wt.call(de,b)!==!1&&P}}return P&&!b.defaultPrevented}function zh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=zh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){M.call(this),this.h=u,this.g={}}A(hr,M);var _o=[];function vo(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),vo(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,jh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}A(ze,D);function wn(){D.call(this,"c")}A(wn,D);var fe={},su=null;function na(){return su=su||new ye}fe.Ia="serverreachability";function ru(u){D.call(this,fe.Ia,u)}A(ru,D);function si(u){const m=na();De(m,new ru(m))}fe.STAT_EVENT="statevent";function fr(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}A(fr,D);function _e(u){const m=na();De(m,new fr(m,u))}fe.Ja="timingevent";function ri(u,m){D.call(this,fe.Ja,u),this.size=m}A(ri,D);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,b,P,q){u.info(function(){if(u.g)if(q){var et="",wt=q.split("&");for(let Gt=0;Gt<wt.length;Gt++){var de=wt[Gt].split("=");if(de.length>1){const oe=de[0];de=de[1];const Nn=oe.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(oe+"="+de+"&"):et+(oe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+et})}function au(u,m,v,b,P,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+et})}function oi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(b?" "+b:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return ls(q)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function gr(){}A(gr,nu),gr.prototype.g=function(){return new XMLHttpRequest},To=new gr;function Mi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Ue={};function li(u,m,v){u.M=1,u.A=pr(Te(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),ui(u),u.B=Te(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),oa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Hn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(_o[0]=P.toString()),P=_o);for(let q=0;q<P.length;q++){const et=ae(v,P[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Qn(this.g),de=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||de==7||(de==8||Gt<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break e}}q=null}if(u=q)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,_e(12),gn(this),Rn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=uu(this,v),oe==Ue){wt==4&&(this.m=4,_e(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==ve){this.m=4,_e(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,oe,null),hi(this,oe);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(et),et.P=!0,_e(11))}}else oi(this.i,this.l,v,null),hi(this,v);wt==4&&gn(this),this.o&&!this.K&&(wt==4?_u(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),gn(this),Rn(this)}}}catch{}finally{}};function Hh(u){if(!lu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const b=m.length,P=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ue:(v=Number(m.substring(v,b)),isNaN(v)?ve:(b+=1,b+v>m.length?Ue:(m=m.slice(b,b+v),u.C=b+v,m)))}qn.prototype.cancel=function(){this.K=!0,gn(this)};function ui(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(si(),_e(17)),gn(this),this.m=2,Rn(this)):sa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||_u(u.j,u)}function gn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),ps(v);else break t;Ar(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&fa(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Gt=P[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Nn=Gt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ei=Gt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=Gt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Yn=u.g;if(Yn){const Sr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var q=b.h;q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(So(q,q.h),q.h=null))}if(b.G){const da=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Yt(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),et.L){wo(b.h,et);var wt=et,de=b.O;de&&(wt.H=de),wt.D&&(ci(wt),ui(wt)),b.g=et}else pu(b);v.i.length>0&&_i(v)}else Gt[0]!="stop"&&Gt[0]!="close"||vi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?vi(v,7):Vo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}si(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return V(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,q=null;b>=0?(P=u[v].substring(0,b),q=u[v].substring(b+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,Co(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),us(this,m[4]),this.h=mi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,aa,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?Io:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,fu)),u.join("")},pn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const wt=P[et++];wt=="."?b&&et==P.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==P.length&&q.push("")):(q.push(wt),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?Co(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new pn(u)}function ke(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof hs?(u.i=m,la(u.i,u.l)):(v||(m=yr(m,cs)),u.i=new hs(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function pr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,hu=/[#\?:]/g,Io=/[#\?]/g,cs=/[#\?@]/g,fu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(u,m){an(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){an(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return an(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function xo(u,m){an(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=fs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),V(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Mi(v);v=xo(this,v);for(let q=0;q<v.length;q++){let et=P;v[q]!==""&&(et+="="+Mi(v[q])),u.push(et)}}return this.i=u.join("&")};function mu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(du(this,b),oa(this,P,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const b=new Image;b.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Cn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Do(u,m){const v=new Bn,b=new AbortController,P=setTimeout(()=>{b.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function ds(){this.g=new eu}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(gi,nu),gi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_r,ye),s=_r.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Gn(this),this.readyState==3&&ua(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Nt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=In(v),typeof u=="string"?v!=null&&Mi(v):Yt(u,m,v))}function Zt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,ye);var pi=/^https?$/i,Oo=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=w(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Er(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Er(this,q)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Vi(u)}function Mo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},s.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let et=String(u.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!pi.test(et?et.toLowerCase():"")}v=b}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=Qn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Mo(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=ou(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Ft(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){_e(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),_i(this)};function Vo(u){if(ca(u),u.I==3){var m=u.V++,v=Te(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),br(u,v),m=new qn(u,u.j,m),m.M=2,m.A=pr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Eu(u)}function ps(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ca(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||S(),ot||(dt(),ot=!0),I.add(m,u),u.D=0}}function ha(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,P,m),v=Te(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+Mi(In(q))+"&"+m:this.u&&vr(v,this.u,q)),So(this.h,P),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ao(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const b=Te(u.J);Yt(b,"SID",u.M),Yt(b,"RID",v),Yt(b,"AID",u.K),br(u,b),u.u&&u.o&&vr(b,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),li(v,b,m)}function br(u,m){u.H&&Nt(u.H,function(v,b){Yt(m,b,v)}),u.l&&Nt({},function(v,b){Yt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const de=["count="+v];wt==-1?v>0?(wt=P[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let Gt=!0;for(let oe=0;oe<v;oe++){var q=P[oe].g;const Nn=P[oe].map;if(q-=wt,q<0)wt=Math.max(0,P[oe].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ei,Kn]of et){let Yn=Kn;g(Kn)&&(Yn=ls(Kn)),de.push(q+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw de.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Nn)}}if(Gt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||S(),ot||(dt(),ot=!0),I.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ps(this),yu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pr(Te(m)),v.u=null,v.R=!0,ia(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),Ar(this),_e(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){fa(u),ko(u),u.g=null;var b=2}else if(di(u.h,m))v=m.G,wo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=na(),De(b,new ri(b,v)),_i(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ha(u,m)||b==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(b,"https"),pr(b),P?Fn(b.toString(),v):Do(b.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var b=v instanceof pn?Te(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),us(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new pn(null);b&&ke(q,b),m&&(q.g=m),P&&us(q,P),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Yt(b,v,m),Yt(b,"VER",u.ka),br(u,b),b}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new gi({ab:v})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}A(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&_i(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.Z.N.call(this)};function Su(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Su,ze);function wu(){wn.call(this),this.status=1}A(wu,wn);function ki(u){this.g=u}A(ki,Au),ki.prototype.ra=function(){De(this.g,"a")},ki.prototype.qa=function(u){De(this.g,new Su(u))},ki.prototype.pa=function(u){De(this.g,new wu)},ki.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,VE=function(){return new ys},ME=function(){return na()},OE=fe,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,zc=mr,Eo.COMPLETE="complete",DE=Eo,iu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=iu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,xE=Zt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Ov="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.3.0";const Kr=new Vm("@firebase/firestore");function Ha(){return Kr.logLevel}function ut(s,...t){if(Kr.logLevel<=Vt.DEBUG){const i=t.map(Fm);Kr.debug(`Firestore (${co}): ${s}`,...i)}}function ss(s,...t){if(Kr.logLevel<=Vt.ERROR){const i=t.map(Fm);Kr.error(`Firestore (${co}): ${s}`,...i)}}function to(s,...t){if(Kr.logLevel<=Vt.WARN){const i=t.map(Fm);Kr.warn(`Firestore (${co}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,UE(s,r,i)}function UE(s,t,i){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function Kt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||UE(t,l,r)}function St(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class kE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class YR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class XR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new kE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class $R{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new $R(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const r=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=WR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function gm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Zd(l)===Zd(c)?Ut(l,c):Zd(l)?1:-1}return Ut(s.length,t.length)}const t2=55296,e2=57343;function Zd(s){const t=s.charCodeAt(0);return t>=t2&&t<=e2}function eo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Vv="__name__";class wi{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const r=wi.isNumericId(t),l=wi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):gm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class ne extends wi{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return n2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Qe([Vv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}function LE(s,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function i2(s,t,i,r){if(t===!0&&r===!0)throw new lt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Uv(s){if(!gt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function kv(s){if(gt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function PE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _h(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function ei(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_h(s);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!PE(s))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const Lv=-62135596800,Pv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Pv);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Lv)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new re(0,0))}static max(){return new bt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function s2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new tr(l,gt.empty(),t)}function r2(s){return new tr(s.readTime,s.key,Ml)}class tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(bt.min(),gt.empty(),Ml)}static max(){return new tr(bt.max(),gt.empty(),Ml)}}function a2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==o2)throw s;ut("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>r(p)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((T=>{d[_]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function u2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const Qm=-1;function Eh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function c2(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const zE="";function h2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=zv(t)),t=f2(s.get(i),t);return zv(t)}function f2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case zE:i+="";break;default:i+=c}}return i}function zv(s){return s+zE+""}function jv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function or(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function jE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(t){return new Bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new BE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const i=d2.exec(s);if(Kt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const qE="server_timestamp",HE="__type__",FE="__previous_value__",GE="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[HE]?.stringValue===qE}function Th(s){const t=s.mapValue.fields[FE];return Km(t)?Th(t):t}function Vl(s){const t=er(s.mapValue.fields[GE].timestampValue);return new re(t.seconds,t.nanos)}class m2{constructor(t,i,r,l,c,d,g,p,_,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const th="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const QE="__type__",g2="__max__",Oc={mapValue:{}},KE="__vector__",eh="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:y2(s)?9007199254740991:p2(s)?10:11:vt(28295,{value:s})}function Oi(s,t){if(s===t)return!0;const i=ir(s);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=er(l.timestampValue),g=er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return nr(l.bytesValue).isEqual(nr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return eo(s.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(jv(d)!==jv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Oi(d[p],g[p])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function kl(s,t){return(s.values||[]).find((i=>Oi(i,t)))!==void 0}function no(s,t){if(s===t)return 0;const i=ir(s),r=ir(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),p=pe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return qv(s.timestampValue,t.timestampValue);case 4:return qv(Vl(s),Vl(t));case 5:return gm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=nr(c),p=nr(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ut(g[_],p[_]);if(T!==0)return T}return Ut(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(pe(c.latitude),pe(d.latitude));return g!==0?g:Ut(pe(c.longitude),pe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Hv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[eh]?.arrayValue,T=p[eh]?.arrayValue,A=Ut(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Hv(_,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const w=gm(p[A],T[A]);if(w!==0)return w;const V=no(g[p[A]],_[T[A]]);if(V!==0)return V}return Ut(p.length,T.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function qv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=er(s),r=er(t),l=Ut(i.seconds,r.seconds);return l!==0?l:Ut(i.nanos,r.nanos)}function Hv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=no(i[l],r[l]);if(c)return c}return Ut(i.length,r.length)}function io(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=pm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${pm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function jc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+jc(t):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return or(r.fields,((c,d)=>{l+=c.length+jc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function Fv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function Gv(s){return!!s&&"nullValue"in s}function Qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function p2(s){return(s?.mapValue?.fields||{})[QE]?.stringValue===KE}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return or(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Cl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function y2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){or(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Cl(this.value))}}function YE(s){const t=[];return or(s.fields,((i,r)=>{const l=new Qe([i]);if(Bc(r)){const c=YE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,bt.min(),bt.min(),bt.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,bt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,bt.min(),bt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,bt.min(),bt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Kv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=no(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function _2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class XE{}class Ce extends XE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new E2(t,i,r):i==="array-contains"?new A2(t,r):i==="in"?new S2(t,r):i==="not-in"?new w2(t,r):i==="array-contains-any"?new R2(t,r):new Ce(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new T2(t,r):new b2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends XE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ni(t,i)}matches(t){return $E(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $E(s){return s.op==="and"}function ZE(s){return v2(s)&&$E(s)}function v2(s){for(const t of s.filters)if(t instanceof ni)return!1;return!0}function _m(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+io(s.value);if(ZE(s))return s.filters.map((t=>_m(t))).join(",");{const t=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${t})`}}function JE(s,t){return s instanceof Ce?(function(r,l){return l instanceof Ce&&r.op===l.op&&r.field.isEqual(l.field)&&Oi(r.value,l.value)})(s,t):s instanceof ni?(function(r,l){return l instanceof ni&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&JE(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function WE(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(s):s instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(WE).join(" ,")+"}"})(s):"Filter"}class E2 extends Ce{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class T2 extends Ce{constructor(t,i){super(t,"in",i),this.keys=tT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class b2 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=tT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tT(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class A2 extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ym(i)&&kl(i.arrayValue,this.value)}}class S2 extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class w2 extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class R2 extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}class C2{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Xv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new C2(s,t,i,r,l,c,d)}function Xm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>_m(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>io(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>io(r))).join(",")),t.Te=i}return t.Te}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!JE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Yv(s.startAt,t.startAt)&&Yv(s.endAt,t.endAt)}function vm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Kl{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I2(s,t,i,r,l,c,d,g){return new Kl(s,t,i,r,l,c,d,g)}function Zm(s){return new Kl(s)}function $v(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eT(s){return s.collectionGroup!==null}function Il(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new ih(Qe.keyField(),r))}return t.Ie}function Ii(s){const t=St(s);return t.Ee||(t.Ee=N2(t,Il(s))),t.Ee}function N2(s,t){if(s.limitType==="F")return Xv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Xv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Em(s,t){const i=s.filters.concat([t]);return new Kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,t,i){return new Kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function bh(s,t){return $m(Ii(s),Ii(t))&&s.limitType===t.limitType}function nT(s){return`${Xm(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>WE(l))).join(", ")}]`),Eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Il(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=Kv(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Il(r),l)||r.endAt&&!(function(d,g,p){const _=Kv(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Il(r),l))})(s,t)}function x2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iT(s){return(t,i)=>{let r=!1;for(const l of Il(s)){const c=D2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function D2(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?no(p,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){or(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const O2=new ue(gt.comparator);function rs(){return O2}const sT=new ue(gt.comparator);function bl(...s){let t=sT;for(const i of s)t=t.insert(i.key,i);return t}function rT(s){let t=sT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Br(){return Nl()}function aT(){return Nl()}function Nl(){return new $r((s=>s.toString()),((s,t)=>s.isEqual(t)))}const M2=new ue(gt.comparator),V2=new Me(gt.comparator);function kt(...s){let t=V2;for(const i of s)t=t.add(i);return t}const U2=new Me(Ut);function k2(){return U2}function Jm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function oT(s){return{integerValue:""+s}}function L2(s,t){return c2(t)?oT(t):Jm(s,t)}class Sh{constructor(){this._=void 0}}function P2(s,t,i){return s instanceof Ll?(function(l,c){const d={fields:{[HE]:{stringValue:qE},[GE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Km(c)&&(c=Th(c)),c&&(d.fields[FE]=c),{mapValue:d}})(i,t):s instanceof Pl?uT(s,t):s instanceof zl?cT(s,t):(function(l,c){const d=lT(l,c),g=Zv(d)+Zv(l.Ae);return ym(d)&&ym(l.Ae)?oT(g):Jm(l.serializer,g)})(s,t)}function z2(s,t,i){return s instanceof Pl?uT(s,t):s instanceof zl?cT(s,t):i}function lT(s,t){return s instanceof sh?(function(r){return ym(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Ll extends Sh{}class Pl extends Sh{constructor(t){super(),this.elements=t}}function uT(s,t){const i=hT(t);for(const r of s.elements)i.some((l=>Oi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class zl extends Sh{constructor(t){super(),this.elements=t}}function cT(s,t){let i=hT(t);for(const r of s.elements)i=i.filter((l=>!Oi(l,r)));return{arrayValue:{values:i}}}class sh extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Zv(s){return pe(s.integerValue||s.doubleValue)}function hT(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class j2{constructor(t,i){this.field=t,this.transform=i}}function B2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Pl&&l instanceof Pl||r instanceof zl&&l instanceof zl?eo(r.elements,l.elements,Oi):r instanceof sh&&l instanceof sh?Oi(r.Ae,l.Ae):r instanceof Ll&&l instanceof Ll})(s.transform,t.transform)}class q2{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function fT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Rh(s.key,mn.none()):new Yl(s.key,s.data,mn.none());{const i=s.data,r=dn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new lr(s.key,r,new Sn(l.toArray()),mn.none())}}function H2(s,t,i){s instanceof Yl?(function(l,c,d){const g=l.value.clone(),p=Wv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof lr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Wv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(dT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xl(s,t,i,r){return s instanceof Yl?(function(c,d,g,p){if(!qc(c.precondition,d))return g;const _=c.value.clone(),T=t0(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof lr?(function(c,d,g,p){if(!qc(c.precondition,d))return g;const _=t0(c.fieldTransforms,p,d),T=d.data;return T.setAll(dT(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,g){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function F2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=lT(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function Jv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&eo(r,l,((c,d)=>B2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends wh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class lr extends wh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Wv(s,t,i){const r=new Map;Kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,z2(d,g,i[l]))}return r}function t0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,P2(c,d,t))}return r}class Rh extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&H2(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=xl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=xl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=aT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=fT(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,r)=>Jv(i,r)))&&eo(this.baseMutations,t.baseMutations,((i,r)=>Jv(i,r)))}}class Wm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return M2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Wm(t,i,r,l)}}class K2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,jt;function X2(s){switch(s){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function mT(s){if(s===void 0)return ss("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function $2(){return new TextEncoder}const Z2=new $s([4294967295,4294967295],0);function e0(s){const t=$2().encode(s),i=new NE;return i.update(t),new Uint8Array(i.digest())}function n0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $s([i,r],0),new $s([l,c],0)]}class tg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$s.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply($s.fromNumber(r)));return l.compare(Z2)===1&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=e0(t),[r,l]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new tg(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=e0(t),[r,l]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ch(bt.min(),l,new ue(Ut),rs(),kt())}}class Xl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Xl(r,i,kt(),kt(),kt())}}class Hc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class gT{constructor(t,i){this.targetId=t,this.Ce=i}}class pT{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class i0{constructor(){this.ve=0,this.Fe=s0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=s0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J2{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=Mc(),this.He=Mc(),this.Ye=new ue(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(r===0){const d=new gt(c.path);this.et(i,d,Je.newNoDocument(d,bt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=nr(r).toUint8Array()}catch(p){if(p instanceof BE)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new tg(d,l,c)}catch(p){return to(p instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&vm(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Je.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=kt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,r);return this.je=rs(),this.Je=Mc(),this.He=Mc(),this.Ye=new ue(Ut),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new i0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new i0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ue(gt.comparator)}function s0(){return new ue(gt.comparator)}const W2={asc:"ASCENDING",desc:"DESCENDING"},tC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class nC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function bm(s,t){return s.useProto3Json||Eh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function iC(s,t){return rh(s,t.toTimestamp())}function Ni(s){return Kt(!!s,49232),bt.fromTimestamp((function(i){const r=er(i);return new re(r.seconds,r.nanos)})(s))}function eg(s,t){return Am(s,t).canonicalString()}function Am(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function _T(s){const t=ne.fromString(s);return Kt(AT(t),10190,{key:t.toString()}),t}function Sm(s,t){return eg(s.databaseId,t.path)}function Jd(s,t){const i=_T(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(ET(i))}function vT(s,t){return eg(s.databaseId,t)}function sC(s){const t=_T(s);return t.length===4?ne.emptyPath():ET(t)}function wm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ET(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function r0(s,t,i){return{name:Sm(s,t),fields:i.value.mapValue.fields}}function rC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Kt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:mT(_.code);return new lt(T,_.message||"")})(d);i=new pT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Jd(s,r.document.name),c=Ni(r.document.updateTime),d=r.document.createTime?Ni(r.document.createTime):bt.min(),g=new dn({mapValue:{fields:r.document.fields}}),p=Je.newFoundDocument(l,c,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Hc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Jd(s,r.document),c=r.readTime?Ni(r.readTime):bt.min(),d=Je.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Hc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Jd(s,r.document),c=r.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Y2(l,c),g=r.targetId;i=new gT(g,d)}}return i}function aC(s,t){let i;if(t instanceof Yl)i={update:r0(s,t.key,t.value)};else if(t instanceof Rh)i={delete:Sm(s,t.key)};else if(t instanceof lr)i={update:r0(s,t.key,t.data),updateMask:gC(t.fieldMask)};else{if(!(t instanceof G2))return vt(16599,{Vt:t.type});i={verify:Sm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:iC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function oC(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(bt.min())&&(d=Ni(c)),new q2(d,l.transformResults||[])})(i,t)))):[]}function lC(s,t){return{documents:[vT(s,t.path)]}}function uC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=vT(s,l);const c=(function(_){if(_.length!==0)return bT(ni.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(w){return{field:Ga(w.field),direction:fC(w.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=bm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function cC(s){let t=sC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Kt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const w=TT(A);return w instanceof ni&&ZE(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(G){return new ih(Qa(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let w;return w=typeof A=="object"?A.value:A,Eh(w)?null:w})(i.limit));let p=null;i.startAt&&(p=(function(A){const w=!!A.before,V=A.values||[];return new nh(V,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const w=!A.before,V=A.values||[];return new nh(V,w)})(i.endAt)),I2(t,l,d,c,g,"F",p,_)}function hC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((r=>TT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function fC(s){return W2[s]}function dC(s){return tC[s]}function mC(s){return eC[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Qe.fromServerFormat(s.fieldPath)}function bT(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(Qv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:dC(i.op),value:i.value}}})(s):s instanceof ni?(function(i){const r=i.getFilters().map((l=>bT(l)));return r.length===1?r[0]:{compositeFilter:{op:mC(i.op),filters:r}}})(s):vt(54877,{filter:s})}function gC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Gs{constructor(t,i,r,l,c=bt.min(),d=bt.min(),g=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pC{constructor(t){this.yt=t}}function yC(s){const t=cC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(t,t.limit,"L"):t}class _C{constructor(){this.Cn=new vC}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(tr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class vC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ne.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ST,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const o0="LruGarbageCollector",EC=1048576;function l0([s,t],[i,r]){const l=Ut(s,i);return l===0?Ut(t,r):l}class TC{constructor(t){this.Ir=t,this.buffer=new Me(l0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();l0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(o0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?ut(o0,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class AC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(vh.ce);const r=new TC(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(a0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(_=Date.now(),Ha()<=Vt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function SC(s,t){return new AC(s,t)}class wC{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class CC{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&xl(r.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const l=Br();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=bl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Br();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=rs();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((p,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof lr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),xl(T.mutation,_,T.mutation.getFieldMask(),re.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new RC(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Nl();let l=new ue(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=r.get(p)||Sn.empty();T=g.applyToLocalView(_,T),r.set(p,T);const A=(l.get(g.batchId)||kt()).add(p);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,A=aT();T.forEach((w=>{if(!c.has(w)){const V=fT(i.get(w),r.get(w));V!==null&&A.set(w,V),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(Br());let g=Ml,p=c;return d.next((_=>J.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((w=>{p=p.insert(T,w)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,kt()))).next((T=>({batchId:g,changes:rT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=bl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(p=>{const _=(function(A,w){return new Kl(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((T=>{T.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let g=bl();return d.forEach(((p,_)=>{const T=c.get(p);T!==void 0&&xl(T.mutation,_,Sn.empty(),re.now()),Ah(i,_)&&(g=g.insert(p,_))})),g}))}}class IC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:yC(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),J.resolve()}}class NC{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Br();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=Br(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ue(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=Br(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Br(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return J.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new K2(i,r));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class xC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class ng{constructor(){this.Qr=new Me(Pe.$r),this.Ur=new Me(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new ne([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ne([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class DC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Pe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Q2(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Ut);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new gt(c),0);let g=new Me(Ut);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OC{constructor(t){this.ri=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=rs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=rs();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||a2(r2(T),r)<=0||(l.has(T.key)||Ah(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new MC(this)}getSize(t){return J.resolve(this.size)}}class MC extends wC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class VC{constructor(t){this.persistence=t,this.si=new $r((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class wT{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new xC,this.referenceDelegate=t(this),this.Pi=new VC(this),this.indexManager=new _C,this.remoteDocumentCache=(function(l){return new OC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pC(i),this.Ii=new IC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new NC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new DC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ut("MemoryPersistence","Starting transaction:",t);const l=new UC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class UC extends l2{constructor(t){super(),this.currentSequenceNumber=t}}class ig{constructor(t){this.persistence=t,this.Ri=new ng,this.Vi=null}static mi(t){return new ig(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new $r((r=>h2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=SC(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sg(t,i.fromCache,r,l)}}class kC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class LC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CA()?8:u2(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ha()<=Vt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Vt.DEBUG&&ut("QueryEngine","Query:",Fa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ha()<=Vt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):J.resolve())}ys(t,i){if($v(i))return J.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(t,Tm(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,r,l){return $v(i)||l.isEqual(bt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(Ha()<=Vt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,s2(l,Ml)).next((g=>g)))}))}Ds(t,i){let r=new Me(iT(t));return i.forEach(((l,c)=>{Ah(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ha()<=Vt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,tr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rg="LocalStore",PC=3e8;class zC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Ut),this.xs=new $r((c=>Xm(c)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function jC(s,t,i,r){return new zC(s,t,i,r)}async function RT(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let p=kt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function BC(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const A=_.batch,w=A.keys();let V=J.resolve();return w.forEach((G=>{V=V.next((()=>T.getEntry(p,G))).next((W=>{const K=_.docVersions.get(G);Kt(K!==null,48541),W.version.compareTo(K)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=kt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function CT(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function qC(s,t){const i=St(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,A)=>{const w=l.get(A);if(!w)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let V=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?V=V.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),l=l.insert(A,V),(function(W,K,rt){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=PC?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(w,V,T)&&g.push(i.Pi.updateTargetData(c,V))}));let p=rs(),_=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(HC(c,d,t.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(bt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function HC(s,t,i){let r=kt(),l=kt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=rs();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ut(rg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function FC(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function GC(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Gs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Rm(s,t,i){const r=St(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;ut(rg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function u0(s,t,i){const r=St(s);let l=bt.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const A=St(p),w=A.xs.get(T);return w!==void 0?J.resolve(A.Ms.get(w)):A.Pi.getTargetData(_,T)})(r,d,Ii(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:kt()))).next((g=>(QC(r,x2(t),g),{documents:g,Qs:c})))))}function QC(s,t,i){let r=s.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class c0{constructor(){this.activeTargetIds=k2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KC{constructor(){this.Mo=new c0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new c0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YC{Oo(t){}shutdown(){}}const h0="ConnectivityMonitor";class f0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(h0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(h0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Cm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Wd="RestConnection",XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $C{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Cm(),g=this.zo(t,i.toUriEncodedString());ut(Wd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),T=oo(_);return this.Jo(t,g,p,r,T).then((A=>(ut(Wd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw to(Wd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=XC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class ZC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class JC extends $C{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Cm();return new Promise(((g,p)=>{const _=new xE;_.setWithCredentials(!0),_.listenOnce(DE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const A=_.getResponseJson();ut($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case zc.TIMEOUT:ut($e,`RPC '${t}' ${d} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const w=_.getStatus();if(ut($e,`RPC '${t}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let V=_.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V?.error;if(G&&G.status&&G.message){const W=(function(rt){const at=rt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(at)>=0?at:Z.UNKNOWN})(G.status);p(new lt(W,G.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ut($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=VE(),g=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=c.join("");ut($e,`Creating RPC '${t}' stream ${l}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let w=!1,V=!1;const G=new ZC({Yo:K=>{V?ut($e,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(w||(ut($e,`Opening RPC '${t}' stream ${l} transport.`),A.open(),w=!0),ut($e,`RPC '${t}' stream ${l} sending:`,K),A.send(K))},Zo:()=>A.close()}),W=(K,rt,at)=>{K.listen(rt,(it=>{try{at(it)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return W(A,Tl.EventType.OPEN,(()=>{V||(ut($e,`RPC '${t}' stream ${l} transport opened.`),G.o_())})),W(A,Tl.EventType.CLOSE,(()=>{V||(V=!0,ut($e,`RPC '${t}' stream ${l} transport closed`),G.a_(),this.E_(A))})),W(A,Tl.EventType.ERROR,(K=>{V||(V=!0,to($e,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),G.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),W(A,Tl.EventType.MESSAGE,(K=>{if(!V){const rt=K.data[0];Kt(!!rt,16349);const at=rt,it=at?.error||at[0]?.error;if(it){ut($e,`RPC '${t}' stream ${l} received error:`,it);const pt=it.status;let dt=(function(S){const R=Re[S];if(R!==void 0)return mT(R)})(pt),ot=it.message;dt===void 0&&(dt=Z.INTERNAL,ot="Unknown error status: "+pt+" with message "+it.message),V=!0,G.a_(new lt(dt,ot)),A.close()}else ut($e,`RPC '${t}' stream ${l} received:`,rt),G.u_(rt)}})),W(g,OE.STAT_EVENT,(K=>{K.stat===mm.PROXY?ut($e,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===mm.NOPROXY&&ut($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function tm(){return typeof document<"u"?document:null}function Ih(s){return new nC(s,!0)}class IT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const d0="PersistentStream";class NT{constructor(t,i,r,l,c,d,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(d0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WC extends NT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=rC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ni(d.readTime):bt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=vm(p)?{documents:lC(c,p)}:{query:uC(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=yT(c,d.resumeToken);const _=bm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=bm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=hC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=wm(this.serializer),i.removeTarget=t,this.q_(i)}}class tI extends NT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=oC(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=wm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>aC(this.serializer,r)))};this.q_(i)}}class eI{}class nI extends eI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Am(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Am(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class sI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zr(this)&&(ut(Yr,"Restarting streams for network reachability change."),await(async function(p){const _=St(p);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new iI(r,l)}}async function Nh(s){if(Zr(s))for(const t of s.da)await t(!0)}async function $l(s){for(const t of s.da)await t(!1)}function xT(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ug(i)?lg(i):mo(i).O_()&&og(i,t))}function ag(s,t){const i=St(s),r=mo(i);i.Ia.delete(t),r.O_()&&DT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Zr(i)&&i.Ra.set("Unknown"))}function og(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(s).Y_(t)}function DT(s,t){s.Va.Ue(t),mo(s).Z_(t)}function lg(s){s.Va=new J2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function ug(s){return Zr(s)&&!mo(s).x_()&&s.Ia.size>0}function Zr(s){return St(s).Ea.size===0}function OT(s){s.Va=void 0}async function rI(s){s.Ra.set("Online")}async function aI(s){s.Ia.forEach(((t,i)=>{og(s,t)}))}async function oI(s,t){OT(s),ug(s)?(s.Ra.ha(t),lg(s)):s.Ra.set("Unknown")}async function lI(s,t,i){if(s.Ra.set("Online"),t instanceof pT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){ut(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await oh(s,r)}else if(t instanceof Hc?s.Va.Ze(t):t instanceof gT?s.Va.st(t):s.Va.tt(t),!i.isEqual(bt.min()))try{const r=await CT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),DT(c,p);const A=new Gs(T.target,p,_,T.sequenceNumber);og(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ut(Yr,"Failed to raise snapshot:",r),await oh(s,r)}}async function oh(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await $l(s),s.Ra.set("Offline"),i||(i=()=>CT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Yr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function MT(s,t){return t().catch((i=>oh(s,i,t)))}async function xh(s){const t=St(s),i=sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;uI(t);)try{const l=await FC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,cI(t,l)}catch(l){await oh(t,l)}VT(t)&&UT(t)}function uI(s){return Zr(s)&&s.Ta.length<10}function cI(s,t){s.Ta.push(t);const i=sr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function VT(s){return Zr(s)&&!sr(s).x_()&&s.Ta.length>0}function UT(s){sr(s).start()}async function hI(s){sr(s).ra()}async function fI(s){const t=sr(s);for(const i of s.Ta)t.ea(i.mutations)}async function dI(s,t,i){const r=s.Ta.shift(),l=Wm.from(r,t,i);await MT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function mI(s,t){t&&sr(s).X_&&await(async function(r,l){if((function(d){return X2(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();sr(r).B_(),await MT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(r)}})(s,t),VT(s)&&UT(s)}async function m0(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),ut(Yr,"RemoteStore received new credentials");const r=Zr(i);i.Ea.add(3),await $l(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nh(i)}async function gI(s,t){const i=St(s);t?(i.Ea.delete(2),await Nh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new WC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:rI.bind(null,s),t_:aI.bind(null,s),r_:oI.bind(null,s),H_:lI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ug(s)?lg(s):s.Ra.set("Unknown")):(await s.ma.stop(),OT(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new tI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hI.bind(null,s),r_:mI.bind(null,s),ta:fI.bind(null,s),na:dI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new cg(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(s,t){if(ss("AsyncQueue",`${t}: ${s}`),fo(s))return new lt(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=bl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class g0{constructor(){this.ga=new ue(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class ro{constructor(t,i,r,l,c,d,g,p,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ro(t,i,Ja.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class pI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yI{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=p0(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function p0(){return new $r((s=>nT(s)),bh)}async function kT(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new pI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=hg(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&fg(i)}async function LT(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _I(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&fg(i)}function vI(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function fg(s){s.Ca.forEach((t=>{t.next()}))}var Im,y0;(y0=Im||(Im={})).Ma="default",y0.Cache="cache";class PT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Im.Cache}}class zT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class EI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=iT(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new g0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const w=l.get(T),V=Ah(this.query,A)?A:null,G=!!w&&this.mutatedKeys.has(w.key),W=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let K=!1;w&&V?w.data.isEqual(V.data)?G!==W&&(r.track({type:3,doc:V}),K=!0):this.su(w,V)||(r.track({type:2,doc:V}),K=!0,(p&&this.eu(V,p)>0||_&&this.eu(V,_)<0)&&(g=!0)):!w&&V?(r.track({type:0,doc:V}),K=!0):w&&!V&&(r.track({type:1,doc:w}),K=!0,(p||_)&&(g=!0)),K&&(V?(d=d.add(V),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(V,G){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:K})}};return W(V)-W(G)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new jT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class TI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class bI{constructor(t){this.key=t,this.hu=!1}}class AI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>nT(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SI(s,t,i=!0){const r=QT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(r,t,i,!0),l}async function wI(s,t){const i=QT(s);await BT(i,t,!0,!1)}async function BT(s,t,i,r){const l=await GC(s.localStore,Ii(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await RI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&xT(s.remoteStore,l),g}async function RI(s,t,i,r,l){s.pu=(A,w,V)=>(async function(W,K,rt,at){let it=K.view.ru(rt);it.Cs&&(it=await u0(W.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,it))));const pt=at&&at.targetChanges.get(K.targetId),dt=at&&at.targetMismatches.get(K.targetId)!=null,ot=K.view.applyChanges(it,W.isPrimaryClient,pt,dt);return v0(W,K.targetId,ot.au),ot.snapshot})(s,A,w,V);const c=await u0(s.localStore,t,!0),d=new EI(t,c.Qs),g=d.ru(c.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);v0(s,i,_.au);const T=new TI(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function CI(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ag(r.remoteStore,l.targetId),Nm(r,l.targetId)})).catch(ho)):(Nm(r,l.targetId),await Rm(r.localStore,l.targetId,!0))}async function II(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ag(i.remoteStore,r.targetId))}async function NI(s,t,i){const r=kI(s);try{const l=await(function(d,g){const p=St(d),_=re.now(),T=g.reduce(((V,G)=>V.add(G.key)),kt());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=rs(),W=kt();return p.Ns.getEntries(V,T).next((K=>{G=K,G.forEach(((rt,at)=>{at.isValidDocument()||(W=W.add(rt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,G))).next((K=>{A=K;const rt=[];for(const at of g){const it=F2(at,A.get(at.key).overlayedDocument);it!=null&&rt.push(new lr(at.key,it,YE(it.value.mapValue),mn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,_,rt,g)})).next((K=>{w=K;const rt=K.applyToLocalDocumentSet(A,W);return p.documentOverlayCache.saveOverlays(V,K.batchId,rt)}))})).then((()=>({batchId:w.batchId,changes:rT(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Ut)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Zl(r,l.changes),await xh(r.remoteStore)}catch(l){const c=hg(l,"Failed to persist write");i.reject(c)}}async function qT(s,t){const i=St(s);try{const r=await qC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await Zl(i,r,t)}catch(r){await ho(r)}}function _0(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=St(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,A)=>{for(const w of A.Sa)w.va(g)&&(_=!0)})),_&&fg(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xI(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ue(gt.comparator);d=d.insert(c,Je.newNoDocument(c,bt.min()));const g=kt().add(c),p=new Ch(bt.min(),new Map,new ue(Ut),d,g);await qT(r,p),r.du=r.du.remove(c),r.Au.delete(t),mg(r)}else await Rm(r.localStore,t,!1).then((()=>Nm(r,t,i))).catch(ho)}async function DI(s,t){const i=St(s),r=t.batch.batchId;try{const l=await BC(i.localStore,t);FT(i,r,null),HT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(i,l)}catch(l){await ho(l)}}async function OI(s,t,i){const r=St(s);try{const l=await(function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(Kt(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);FT(r,t,i),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Zl(r,l)}catch(l){await ho(l)}}function HT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function FT(s,t,i){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Nm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||GT(s,r)}))}function GT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(ag(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),mg(s))}function v0(s,t,i){for(const r of i)r instanceof zT?(s.Ru.addReference(r.key,t),MI(s,r)):r instanceof jT?(ut(dg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||GT(s,r.key)):vt(19791,{wu:r})}function MI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ut(dg,"New document in limbo: "+i),s.Eu.add(r),mg(s))}function mg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new bI(i)),s.du=s.du.insert(i,r),xT(s.remoteStore,new Gs(Ii(Zm(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function Zl(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=sg.As(p.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(w=>J.forEach(w.Es,(V=>T.persistence.referenceDelegate.addReference(A,w.targetId,V))).next((()=>J.forEach(w.ds,(V=>T.persistence.referenceDelegate.removeReference(A,w.targetId,V)))))))))}catch(A){if(!fo(A))throw A;ut(rg,"Failed to update sequence numbers: "+A)}for(const A of _){const w=A.targetId;if(!A.fromCache){const V=T.Ms.get(w),G=V.snapshotVersion,W=V.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(w,W)}}})(r.localStore,c))}async function VI(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){ut(dg,"User change. New user:",t.toKey());const r=await RT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Zl(i,r.Ls)}}function UI(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function QT(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xI.bind(null,t),t.Pu.H_=_I.bind(null,t.eventManager),t.Pu.yu=vI.bind(null,t.eventManager),t}function kI(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OI.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return jC(this.persistence,new LC,t.initialUser,this.serializer)}Cu(t){return new wT(ig.mi,this.serializer)}Du(t){return new KC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class LI extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new wT((r=>ah.mi(r,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yI})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),r=(function(c){return new JC(c)})(t.databaseInfo);return(function(c,d,g,p){return new nI(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new sI(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>_0(this.syncEngine,i,0)),(function(){return f0.v()?new f0:new YC})())}createSyncEngine(t,i){return(function(l,c,d,g,p,_,T){const A=new AI(l,c,d,g,p,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);ut(Yr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class KT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rr="FirestoreClient";class PI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ut(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=hg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function em(s,t){s.asyncQueue.verifyOperationInProgress(),ut(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await RT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function E0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await zI(s);ut(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>m0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>m0(t.remoteStore,l))),s._onlineComponents=t}async function zI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(rr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new lh)}}else ut(rr,"Using default OfflineComponentProvider"),await em(s,new LI(void 0));return s._offlineComponents}async function YT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(rr,"Using user provided OnlineComponentProvider"),await E0(s,s._uninitializedComponentsProvider._online)):(ut(rr,"Using default OnlineComponentProvider"),await E0(s,new xm))),s._onlineComponents}function jI(s){return YT(s).then((t=>t.syncEngine))}async function Dm(s){const t=await YT(s),i=t.eventManager;return i.onListen=SI.bind(null,t.syncEngine),i.onUnlisten=CI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=wI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=II.bind(null,t.syncEngine),i}function BI(s,t,i={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const T=new KT({next:w=>{T.Nu(),d.enqueueAndForget((()=>LT(c,A))),w.fromCache&&p.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),A=new PT(g,T,{includeMetadataChanges:!0,qa:!0});return kT(c,A)})(await Dm(s),s.asyncQueue,t,i,r))),r.promise}function XT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const T0=new Map;const $T="firestore.googleapis.com",b0=!0;class A0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=b0}else this.host=t.host,this.ssl=t.ssl??b0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<EC)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KR;switch(r.type){case"firstParty":return new ZR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=T0.get(i);r&&(ut("ComponentProvider","Removing Datastore"),T0.delete(i),r.terminate())})(this),Promise.resolve()}}function qI(s,t,i,r={}){s=ei(s,Dh);const l=oo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(H0(`https://${g}`),F0("Firestore",!0)),c.host!==$T&&c.host!==g&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!Fr(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Ze.MOCK_USER;else{_=_A(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(A)}s._authCredentials=new YR(new kE(_,T))}}class Jr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jr(this.firestore,t,this._query)}}class Ne{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Ql(i,Ne._jsonSchema))return new Ne(t,r||null,new gt(ne.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ie("string",Ne._jsonSchemaVersion),referencePath:Ie("string")};class Js extends Jr{constructor(t,i,r){super(t,i,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new gt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function ao(s,t,...i){if(s=Ve(s),LE("collection","path",t),s instanceof Dh){const r=ne.fromString(t,...i);return kv(r),new Js(s,null,r)}{if(!(s instanceof Ne||s instanceof Js))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return kv(r),new Js(s.firestore,null,r)}}function zn(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=Gm.newId()),LE("doc","path",t),s instanceof Dh){const r=ne.fromString(t,...i);return Uv(r),new Ne(s,null,new gt(r))}{if(!(s instanceof Ne||s instanceof Js))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return Uv(r),new Ne(s.firestore,s instanceof Js?s.converter:null,new gt(r))}}const S0="AsyncQueue";class w0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&ut(S0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;ut(S0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",R0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=cg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:R0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function R0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function C0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ar extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new w0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new w0(t),this._firestoreClient=void 0,await t}}}function HI(s,t){const i=typeof s=="object"?s:Y0(),r=typeof s=="string"?s:th,l=km(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=pA("firestore");c&&qI(l,...c)}return l}function Oh(s){if(s._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FI(s),s._firestoreClient}function FI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new m2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,XT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new PI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class Jl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mh{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),vectorValues:Ie("object")};const GI=/^__.*__$/;class QI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new lr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class ZT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new lr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class gg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&GI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class KI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ih(t)}Cc(t,i,r,l=!1){return new gg({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new KI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function WT(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);yg("Data must be an object, but it was:",d,r);const g=n1(r,d);let p,_;if(c.merge)p=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const w=Om(t,A,i);if(!d.contains(w))throw new lt(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);s1(T,w)||T.push(w)}p=new Sn(T),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new QI(new dn(g),p,_)}class Uh extends Mh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}class pg extends Mh{_toFieldTransform(t){return new j2(t.path,new Ll)}isEqual(t){return t instanceof pg}}function t1(s,t,i,r){const l=s.Cc(1,t,i);yg("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();or(r,((p,_)=>{const T=_g(t,p,i);_=Ve(_);const A=l.yc(T);if(_ instanceof Uh)c.push(T);else{const w=Wl(_,A);w!=null&&(c.push(T),d.set(T,w))}}));const g=new Sn(c);return new ZT(d,g,l.fieldTransforms)}function e1(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Om(t,r,i)],p=[l];if(c.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Om(t,c[w])),p.push(c[w+1]);const _=[],T=dn.empty();for(let w=g.length-1;w>=0;--w)if(!s1(_,g[w])){const V=g[w];let G=p[w];G=Ve(G);const W=d.yc(V);if(G instanceof Uh)_.push(V);else{const K=Wl(G,W);K!=null&&(_.push(V),T.set(V,K))}}const A=new Sn(_);return new ZT(T,A,d.fieldTransforms)}function YI(s,t,i,r=!1){return Wl(i,s.Cc(r?4:3,t))}function Wl(s,t){if(i1(s=Ve(s)))return yg("Unsupported field value:",t,s),n1(s,t);if(s instanceof Mh)return(function(r,l){if(!JT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let p=Wl(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:rh(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:yT(l.serializer,r._byteString)};if(r instanceof Ne){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:eg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,g){return{mapValue:{fields:{[QE]:{stringValue:KE},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${_h(r)}`)})(s,t)}function n1(s,t){const i={};return jE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):or(s,((r,l)=>{const c=Wl(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function i1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof xi||s instanceof Pn||s instanceof Ne||s instanceof Mh||s instanceof Di)}function yg(s,t,i){if(!i1(i)||!PE(i)){const r=_h(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Om(s,t,i){if((t=Ve(t))instanceof Jl)return t._internalPath;if(typeof t=="string")return _g(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const XI=new RegExp("[~\\*/\\[\\]]");function _g(s,t,i){if(t.search(XI)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Jl(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new lt(Z.INVALID_ARGUMENT,g+s+p)}function s1(s,t){return s.some((i=>i.isEqual(t)))}class r1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(a1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $I extends r1{data(){return super.data()}}function a1(s,t){return typeof t=="string"?_g(s,t):t instanceof Jl?t._internalPath:t._delegate._internalPath}function o1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class ZI extends vg{}function I0(s,t,...i){let r=[];t instanceof vg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((p=>p instanceof Tg)).length,g=c.filter((p=>p instanceof Eg)).length;if(d>1||d>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Eg extends ZI{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Eg(t,i,r)}_apply(t){const i=this._parse(t);return l1(t._query,i),new Jr(t.firestore,t.converter,Em(t._query,i))}_parse(t){const i=Vh(t.firestore);return(function(c,d,g,p,_,T,A){let w;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){x0(A,T);const G=[];for(const W of A)G.push(N0(p,c,W));w={arrayValue:{values:G}}}else w=N0(p,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||x0(A,T),w=YI(g,d,A,T==="in"||T==="not-in");return Ce.create(_,T,w)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Tg extends vg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Tg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)l1(d,p),d=Em(d,p)})(t._query,i),new Jr(t.firestore,t.converter,Em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(s,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(t)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ne.fromString(i));if(!gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fv(s,new gt(r))}if(i instanceof Ne)return Fv(s,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(i)}.`)}function x0(s,t){if(!Array.isArray(s)||s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function l1(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class JI{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return or(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new Di(i)}convertGeoPoint(t){return new xi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=er(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Kt(AT(r),9688,{name:t});const l=new Ul(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function u1(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends r1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(a1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ie("string",qr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Fc extends qr{data(t={}){return super.data(t)}}class Hr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:WI(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Hr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Hr._jsonSchemaVersion="firestore/querySnapshot/1.0",Hr._jsonSchema={type:Ie("string",Hr._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class bg extends JI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function D0(s){s=ei(s,Jr);const t=ei(s.firestore,ar),i=Oh(t),r=new bg(t);return o1(s._query),BI(i,s._query).then((l=>new Hr(t,r,s,l)))}function jl(s,t,i,...r){s=ei(s,Ne);const l=ei(s.firestore,ar),c=Vh(l);let d;return d=typeof(t=Ve(t))=="string"||t instanceof Jl?e1(c,"updateDoc",s._key,t,i,r):t1(c,"updateDoc",s._key,t),kh(l,[d.toMutation(s._key,mn.exists(!0))])}function Ag(s){return kh(ei(s.firestore,ar),[new Rh(s._key,mn.none())])}function c1(s,t){const i=ei(s.firestore,ar),r=zn(s),l=u1(s.converter,t);return kh(i,[WT(Vh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then((()=>r))}function O0(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||C0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(C0(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let c,d,g;if(s instanceof Ne)d=ei(s.firestore,ar),g=Zm(s._key.path),c={next:p=>{t[r]&&t[r](tN(d,s,p))},error:t[r+1],complete:t[r+2]};else{const p=ei(s,Jr);d=ei(p.firestore,ar),g=p._query;const _=new bg(d);c={next:T=>{t[r]&&t[r](new Hr(d,_,p,T))},error:t[r+1],complete:t[r+2]},o1(s._query)}return(function(_,T,A,w){const V=new KT(w),G=new PT(T,V,A);return _.asyncQueue.enqueueAndForget((async()=>kT(await Dm(_),G))),()=>{V.Nu(),_.asyncQueue.enqueueAndForget((async()=>LT(await Dm(_),G)))}})(Oh(d),g,l,c)}function kh(s,t){return(function(r,l){const c=new Zs;return r.asyncQueue.enqueueAndForget((async()=>NI(await jI(r),l,c))),c.promise})(Oh(s),t)}function tN(s,t,i){const r=i.docs.get(t._key),l=new bg(s);return new qr(s,l,t._key,r,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}class eN{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Vh(t)}set(t,i,r){this._verifyNotCommitted();const l=nm(t,this._firestore),c=u1(l.converter,i,r),d=WT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=nm(t,this._firestore);let d;return d=typeof(i=Ve(i))=="string"||i instanceof Jl?e1(this._dataReader,"WriteBatch.update",c._key,i,r,l):t1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=nm(t,this._firestore);return this._mutations=this._mutations.concat(new Rh(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(s,t){if((s=Ve(s)).firestore!==t)throw new lt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Sg(){return new pg("serverTimestamp")}function h1(s){return Oh(s=ei(s,ar)),new eN(s,(t=>kh(s,t)))}(function(t,i=!0){(function(l){co=l})(lo),Wa(new Gr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ar(new XR(r.getProvider("auth-internal")),new JR(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ys(Dv,Ov,t),Ys(Dv,Ov,"esm2020")})();const nN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),M0=s=>{const t=iN(s);return t.charAt(0).toUpperCase()+t.slice(1)},f1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),sN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aN=_t.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},p)=>_t.createElement("svg",{ref:p,...rN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:f1("lucide",l),...!c&&!sN(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>_t.createElement(_,T)),...Array.isArray(c)?c:[c]]));const sn=(s,t)=>{const i=_t.forwardRef(({className:r,...l},c)=>_t.createElement(aN,{ref:c,iconNode:t,className:f1(`lucide-${nN(M0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=M0(s),i};const oN=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],d1=sn("arrow-down-up",oN);const lN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m1=sn("chevron-down",lN);const uN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g1=sn("chevron-up",uN);const cN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],hN=sn("clipboard",cN);const fN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],p1=sn("credit-card",fN);const dN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],wg=sn("file-down",dN);const mN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],y1=sn("file-up",mN);const gN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],V0=sn("list",gN);const pN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ch=sn("loader-circle",pN);const yN=[["path",{d:"M5 12h14",key:"1ays0h"}]],_N=sn("minus",yN);const vN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lh=sn("plus",vN);const EN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_1=sn("save",EN);const TN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bN=sn("square-pen",TN);const AN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v1=sn("trash-2",AN);const SN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wN=sn("x",SN),Ke=typeof __app_id<"u"?__app_id:"default-app-id",U0=typeof __firebase_config<"u"?JSON.parse(__firebase_config):null;let im,Jn,sm;const Ka=s=>s==null||isNaN(s)?"":new Intl.NumberFormat("ja-JP",{style:"decimal"}).format(s),rm=async(s,t)=>{for(let r=0;r<s.length;r+=490){const l=h1(Jn);s.slice(r,r+490).forEach(d=>t(l,d)),await l.commit()}},hh=s=>{if(s===null||typeof s!="object")return s;if(typeof s.seconds=="number"&&typeof s.nanoseconds=="number")return new Date(s.seconds*1e3);if(Array.isArray(s))return s.map(i=>hh(i));const t={};for(const i in s)t[i]=hh(s[i]);return t},k0=({loading:s,error:t,userId:i})=>x.jsxs("div",{className:"p-4 bg-white/90 backdrop-blur-sm shadow-xl rounded-xl",children:[s&&x.jsx("p",{className:"text-blue-600 font-semibold flex items-center justify-center",children:"..."}),t&&x.jsxs("p",{className:"text-red-600 font-semibold",children:[": ",t.message]}),i&&x.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["ID (): ",x.jsx("span",{className:"font-mono text-xs",children:i})]})]}),Ph=({children:s,title:t,isOpen:i,onClose:r,className:l="max-w-lg"})=>i?x.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4 overflow-y-auto",children:x.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${l} transform transition-all duration-300 scale-100 opacity-100 flex flex-col max-h-[90vh]`,children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b flex-shrink-0",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t}),x.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition",children:x.jsx(wN,{size:20})})]}),x.jsx("div",{className:"p-6 overflow-y-auto",children:s})]})}):null,Xr=({label:s,id:t,type:i="text",value:r,onChange:l,placeholder:c="",required:d=!1,icon:g,className:p="",inputMode:_="text",pattern:T=null})=>x.jsxs("div",{className:`mb-4 ${p}`,children:[x.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),x.jsxs("div",{className:"relative",children:[g&&x.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),x.jsx("input",{id:t,type:i,value:r,onChange:l,placeholder:c,required:d,inputMode:_,pattern:T,className:`w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 shadow-sm ${g?"pl-10":""}`})]})]}),E1=({label:s,id:t,value:i,onChange:r,options:l,required:c=!1,className:d=""})=>x.jsxs("div",{className:`mb-4 ${d}`,children:[x.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),x.jsx("select",{id:t,value:i,onChange:r,required:c,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 shadow-sm bg-white",children:l.map(g=>x.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))})]}),fh=({label:s,id:t,value:i,onChange:r,isDeposit:l=!1})=>{const c=d=>{const g=d.target.value.replace(/[^0-9,]/g,""),p=parseInt(g.replace(/,/g,""),10);r(isNaN(p)?"":p)};return x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),x.jsxs("div",{className:"relative",children:[l?x.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-500",size:18}):x.jsx(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-red-500",size:18}),x.jsx("input",{id:t,type:"text",inputMode:"numeric",pattern:"[0-9,]*",value:Ka(i),onChange:c,placeholder:"0",className:`w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 shadow-sm pl-10 text-right font-mono ${l?"text-green-700":"text-red-700"}`})]})]})},ts=({children:s,onClick:t,Icon:i,className:r="bg-blue-600 hover:bg-blue-700",disabled:l=!1,type:c="button"})=>x.jsxs("button",{onClick:t,disabled:l,type:c,className:`flex items-center justify-center space-x-2 px-6 py-3 text-white font-semibold rounded-xl shadow-lg transition duration-200 transform hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-opacity-50 ${r} disabled:bg-gray-400 disabled:shadow-none disabled:transform-none`,children:[i&&x.jsx(i,{size:20}),x.jsx("span",{children:s})]}),RN=({elementId:s,fileName:t,title:i="PDF"})=>{const[r,l]=_t.useState("idle"),[c,d]=_t.useState("");_t.useEffect(()=>{if(window.jspdf&&window.html2canvas){l("ready");return}l("loading-libs");const _=T=>new Promise((A,w)=>{const V=document.createElement("script");V.src=T,V.async=!0,V.onload=A,V.onerror=()=>w(new Error(`${T}`)),document.body.appendChild(V)});Promise.all([_("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),_("https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")]).then(()=>{l("ready")}).catch(T=>{console.error(T),d("PDF"),l("error")})},[]);const g=async()=>{const _=document.getElementById(s);if(!_){d("PDF"),l("error");return}l("exporting"),d("");const T=_.querySelector("tbody"),w=(T?Array.from(T.querySelectorAll("tr")):[]).length;try{const{jsPDF:V}=window.jspdf,G=new V({orientation:"p",unit:"pt",format:"a4"});if(w===0){const K=(await window.html2canvas(_,{scale:2,useCORS:!0,backgroundColor:"#ffffff"})).toDataURL("image/png"),rt=G.internal.pageSize.getWidth(),at=G.getImageProperties(K),it=rt/at.width,pt=at.height*it;G.addImage(K,"PNG",0,0,rt,pt)}else{let rt=0,at=0;for(;rt<w;){at++;const it=at===1,pt=it?14:17,dt=rt,ot=Math.min(dt+pt,w),I=ot===w,S=_.cloneNode(!0);document.body.appendChild(S);const R=S.querySelector("table");if(R){const O=R.querySelector("thead tr");O&&(O.children[6]&&(O.children[6].style.display="none"),O.children[7]&&(O.children[7].style.display="none"),O.children[8]&&(O.children[8].style.display="none")),R.querySelectorAll("tbody tr").forEach(st=>{st.children.length>9&&(st.children[6]&&(st.children[6].style.display="none"),st.children[7]&&(st.children[7].style.display="none"),st.children[8]&&(st.children[8].style.display="none"),st.children[9]&&(st.children[9].style.display="none"))});const nt=R.querySelector("tfoot tr");nt&&nt.children.length===4&&nt.children[3].setAttribute("colSpan","1")}const M=S.querySelector("tbody");Array.from(M.querySelectorAll("tr")).forEach((O,X)=>{(X<dt||X>=ot)&&(O.style.display="none")});const k=S.querySelector("tfoot");k&&!I&&(k.style.display="none"),S.style.position="absolute",S.style.left="0px",S.style.top="0px",S.style.zIndex="-1",S.style.width=`${_.offsetWidth}px`;const C=await html2canvas(S,{scale:2,useCORS:!0,backgroundColor:"#ffffff"});document.body.removeChild(S);const Bt=C.toDataURL("image/png"),Pt=G.internal.pageSize.getWidth(),F=G.internal.pageSize.getHeight(),tt=G.getImageProperties(Bt),ht=Pt/tt.width,Nt=tt.height*ht,Ft=Nt>F?F:Nt;it||G.addPage(),G.addImage(Bt,"PNG",0,0,Pt,Ft),rt=ot}}G.save(`${t}.pdf`),l("ready")}catch(V){console.error("Error exporting to PDF:",V),d("PDF"),l("error")}},p=()=>{switch(r){case"loading-libs":return x.jsxs(x.Fragment,{children:[x.jsx(ch,{size:16,className:"animate-spin"})," ",x.jsx("span",{children:"..."})]});case"exporting":return x.jsxs(x.Fragment,{children:[x.jsx(ch,{size:16,className:"animate-spin"})," ",x.jsx("span",{children:"PDF..."})]});case"error":return x.jsx("span",{children:""});default:return x.jsxs(x.Fragment,{children:[x.jsx(wg,{size:16})," ",x.jsx("span",{children:i})]})}};return x.jsxs("div",{className:"flex flex-col items-end",children:[x.jsx("button",{onClick:g,disabled:r!=="ready",className:"flex items-center justify-center space-x-2 px-4 py-2 text-white font-semibold rounded-lg shadow-md transition duration-200 transform hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-offset-2 bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 disabled:bg-gray-400 disabled:shadow-none disabled:transform-none disabled:cursor-not-allowed text-sm",children:p()}),r==="error"&&x.jsx("p",{className:"text-xs text-red-600 mt-1",children:c})]})},CN=({isOpen:s,onClose:t,transaction:i,userId:r,db:l})=>{const[c,d]=_t.useState(""),[g,p]=_t.useState(""),[_,T]=_t.useState(""),[A,w]=_t.useState(""),[V,G]=_t.useState(""),[W,K]=_t.useState("");if(_t.useEffect(()=>{i&&(d(i.date||""),p(i.withdrawal>0?i.withdrawal:""),T(i.deposit>0?i.deposit:""),w(i.memo||""),G(i.type||""),K(""))},[i]),!i)return null;const rt=[{value:"",label:" ()"},{value:"",label:" ()"},{value:"",label:""}],at=async it=>{it.preventDefault();const pt=parseInt(g,10)||0,dt=parseInt(_,10)||0;if(!c||pt===0&&dt===0){K("");return}if(pt>0&&dt>0){K("");return}try{const ot=zn(l,`artifacts/${Ke}/users/${r}/transactions/${i.id}`);await jl(ot,{date:c,withdrawal:pt,deposit:dt,memo:A,type:V,updatedAt:Sg()}),K(""),setTimeout(t,1500)}catch(ot){console.error("Error updating transaction: ",ot),K(`: ${ot.message}`)}};return x.jsx(Ph,{isOpen:s,title:"",onClose:t,className:"max-w-xl",children:x.jsxs("form",{onSubmit:at,children:[x.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:[": ",x.jsx("span",{className:"font-semibold",children:i.accountName})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(Xr,{label:"",id:"editDate",type:"date",value:c,onChange:it=>d(it.target.value),required:!0}),x.jsx(E1,{label:"",id:"editType",value:V,onChange:it=>G(it.target.value),options:rt,required:!0})]}),x.jsx(fh,{label:"",id:"editWithdrawal",value:g,onChange:p}),x.jsx(fh,{label:"",id:"editDeposit",value:_,onChange:T,isDeposit:!0}),x.jsx(Xr,{label:"",id:"editMemo",value:A,onChange:it=>w(it.target.value),placeholder:""}),W&&x.jsx("p",{className:`p-3 rounded-lg my-3 text-sm ${W.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:W}),x.jsx(ts,{type:"submit",Icon:_1,className:"w-full mt-4 bg-green-600 hover:bg-green-700",children:""})]})})},IN=({isOpen:s,onClose:t,userId:i,db:r,accounts:l,setAccounts:c})=>{const[d,g]=_t.useState(""),[p,_]=_t.useState(""),[T,A]=_t.useState(""),w=async()=>{if(!d||!p||!i){A("");return}try{const V=ao(r,`artifacts/${Ke}/users/${i}/accounts`);await c1(V,{name:d,number:p,userId:i,order:l.length+1,createdAt:Sg()}),A(""),g(""),_(""),setTimeout(t,1500)}catch(V){console.error("Error adding document: ",V),A(`: ${V.message}`)}};return x.jsx(Ph,{isOpen:s,title:"",onClose:t,children:x.jsxs("form",{onSubmit:V=>{V.preventDefault(),w()},children:[x.jsx(Xr,{label:" ()",id:"accountName",value:d,onChange:V=>g(V.target.value),required:!0,icon:hN,placeholder:" "}),x.jsx(Xr,{label:"",id:"accountNumber",value:p,onChange:V=>_(V.target.value.replace(/[^0-9]/g,"")),required:!0,icon:p1,placeholder:"1234567",type:"tel",inputMode:"numeric",pattern:"[0-9]*"}),T&&x.jsx("p",{className:`p-3 rounded-lg my-3 ${T.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:T}),x.jsx(ts,{type:"submit",Icon:Lh,className:"w-full mt-4 bg-green-600 hover:bg-green-700",children:""})]})})},NN=({isOpen:s,onClose:t,accounts:i,transactions:r})=>{const[l,c]=_t.useState(`_${new Date().toISOString().split("T")[0]}`),[d,g]=_t.useState(""),p=()=>{if(!l){g("");return}g("");const _={accounts:i,transactions:r,exportedAt:new Date().toISOString()},T=JSON.stringify(_,null,2),A=new Blob([T],{type:"application/json"}),w=URL.createObjectURL(A),V=document.createElement("a");V.href=w,V.download=`${l}.json`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(w),t()};return x.jsxs(Ph,{isOpen:s,title:"",onClose:t,children:[x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"JSON"}),x.jsx(Xr,{label:" (.json)",id:"exportFileName",value:l,onChange:_=>c(_.target.value),placeholder:": backup_2025-10-12"}),d&&x.jsx("p",{className:"text-red-500 text-sm mt-2",children:d}),x.jsx(ts,{onClick:p,Icon:wg,className:"w-full mt-4 bg-teal-600 hover:bg-teal-700",children:""})]})},xN=({isOpen:s,onClose:t,userId:i,db:r})=>{const[l,c]=_t.useState(null),[d,g]=_t.useState(!1),[p,_]=_t.useState("idle"),[T,A]=_t.useState(""),w=G=>{c(G.target.files[0]),A(""),_("idle")},V=async()=>{if(!l){A("JSON");return}if(!d){A("");return}_("processing"),A("... ");const G=new FileReader;G.onload=async W=>{try{const K=JSON.parse(W.target.result);if(!K.accounts||!K.transactions)throw new Error("(accounts or transactions not found)");A("...");const rt=ao(r,`artifacts/${Ke}/users/${i}/accounts`),at=ao(r,`artifacts/${Ke}/users/${i}/transactions`),[it,pt]=await Promise.all([D0(rt),D0(at)]),dt=[...it.docs.map(S=>S.ref),...pt.docs.map(S=>S.ref)];dt.length>0&&await rm(dt,(S,R)=>{S.delete(R)}),A("...");const ot=K.accounts.map(hh),I=K.transactions.map(hh);ot.length>0&&await rm(ot,(S,R)=>{if(!R.id)return;const M=zn(r,`artifacts/${Ke}/users/${i}/accounts`,R.id);S.set(M,R)}),I.length>0&&await rm(I,(S,R)=>{if(!R.id)return;const M=zn(r,`artifacts/${Ke}/users/${i}/transactions`,R.id);S.set(M,R)}),_("success"),A(""),setTimeout(()=>{t()},2e3)}catch(K){console.error("Import error:",K),_("error"),A(`: ${K.message}`)}},G.readAsText(l)};return _t.useEffect(()=>{s||(c(null),g(!1),_("idle"),A(""))},[s]),x.jsxs(Ph,{isOpen:s,title:"",onClose:t,children:[x.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded",role:"alert",children:[x.jsx("p",{className:"font-bold",children:""}),x.jsxs("p",{className:"text-sm",children:["",x.jsx("span",{className:"font-semibold",children:""})," "]})]}),x.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"file_input",children:"(.json)"}),x.jsx("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none",id:"file_input",type:"file",accept:".json",onChange:w,disabled:p==="processing"}),x.jsxs("div",{className:"mt-4 flex items-start",children:[x.jsx("div",{className:"flex items-center h-5",children:x.jsx("input",{id:"confirm-overwrite",type:"checkbox",checked:d,onChange:G=>g(G.target.checked),disabled:p==="processing",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),x.jsx("div",{className:"ml-3 text-sm",children:x.jsx("label",{htmlFor:"confirm-overwrite",className:"font-medium text-gray-900",children:""})})]}),T&&x.jsx("p",{className:`p-3 rounded-lg my-3 text-sm ${p==="error"?"bg-red-100 text-red-700":p==="success"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:T}),x.jsx(ts,{onClick:V,Icon:p==="processing"?ch:y1,className:"w-full mt-4 bg-red-600 hover:bg-red-700",disabled:!l||!d||p==="processing",children:p==="processing"?"...":""})]})},DN=({userId:s,db:t,accounts:i,setAccounts:r,setShowAddAccountModal:l,setShowExportModal:c,setShowImportModal:d})=>{const[g,p]=_t.useState(""),_=async(w,V)=>{if(w.id!==V.id){try{const G=w.order,W=V.order;await jl(zn(t,`artifacts/${Ke}/users/${s}/accounts`,w.id),{order:W}),await jl(zn(t,`artifacts/${Ke}/users/${s}/accounts`,V.id),{order:G}),p("")}catch(G){console.error("Error reordering document: ",G),p(`: ${G.message}`)}setTimeout(()=>p(""),1500)}},T=async w=>{if(window.confirm("")){try{const V=zn(t,`artifacts/${Ke}/users/${s}/accounts/${w}`);await Ag(V),p("")}catch(V){console.error("Error deleting document: ",V),p(`: ${V.message}`)}setTimeout(()=>p(""),3e3)}},A=_t.useMemo(()=>[...i].sort((w,V)=>(w.order||9999)-(V.order||9999)),[i]);return x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2 flex justify-between items-center",children:[x.jsx("span",{children:""}),x.jsx(ts,{Icon:Lh,onClick:()=>l(!0),className:"bg-green-600 hover:bg-green-700 px-4 py-2 text-base",children:""})]}),x.jsx("p",{className:"text-gray-600",children:""}),g&&x.jsx("p",{className:`p-3 rounded-lg my-3 text-sm ${g.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g}),x.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg flex items-center justify-start space-x-4 border border-gray-200",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:":"}),x.jsx(ts,{Icon:wg,onClick:()=>c(!0),className:"bg-teal-600 hover:bg-teal-700 px-4 py-2 text-sm",children:""}),x.jsx(ts,{Icon:y1,onClick:()=>d(!0),className:"bg-red-600 hover:bg-red-700 px-4 py-2 text-sm",children:""})]}),x.jsxs("div",{className:"pt-2",children:[x.jsxs("h4",{className:"text-lg font-semibold mb-3 text-gray-700",children:[" (",i.length,")"]}),x.jsxs("div",{className:"space-y-3 p-2 bg-gray-50 rounded-xl shadow-inner max-h-[50vh] overflow-y-auto",children:[A.map((w,V)=>x.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[x.jsxs("div",{className:"text-sm",children:[x.jsx("p",{className:"font-bold text-gray-800 text-lg",children:w.name}),x.jsxs("p",{className:"text-gray-500 font-mono text-xs",children:[": ",w.number]}),x.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:[": ",V+1,""]})]}),x.jsxs("div",{className:"flex space-x-3 items-center",children:[x.jsxs("div",{className:"flex flex-col space-y-0.5 border-r pr-3",children:[V>0&&x.jsx("button",{onClick:()=>_(w,A[V-1]),title:"",className:"text-gray-500 hover:text-blue-600 p-0.5 rounded-full hover:bg-blue-50 transition",children:x.jsx(g1,{size:20})}),V<A.length-1&&x.jsx("button",{onClick:()=>_(w,A[V+1]),title:"",className:"text-gray-500 hover:text-blue-600 p-0.5 rounded-full hover:bg-blue-50 transition",children:x.jsx(m1,{size:20})})]}),x.jsx("button",{onClick:()=>T(w.id),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 transition",title:"",children:x.jsx(v1,{size:20})})]})]},w.id)),i.length===0&&x.jsx("p",{className:"text-sm text-gray-500 text-center py-6",children:""})]})]})]})},ON=({account:s,transactions:t,userId:i,db:r,setEditingTransaction:l})=>{const[c,d]=_t.useState(new Date().toISOString().substring(0,10)),[g,p]=_t.useState(""),[_,T]=_t.useState(""),[A,w]=_t.useState(""),[V,G]=_t.useState(""),[W,K]=_t.useState(""),rt=t.filter(dt=>dt.accountId===s.id).sort((dt,ot)=>{const I=new Date(dt.date)-new Date(ot.date);return I!==0?I:dt.id.localeCompare(ot.id)}),at=[{value:"",label:" ()"},{value:"",label:" ()"},{value:"",label:""}],it=async dt=>{dt.preventDefault();const ot=parseInt(g,10)||0,I=parseInt(_,10)||0;if(!c||ot===0&&I===0){K("");return}if(ot>0&&I>0){K("");return}try{const S=ao(r,`artifacts/${Ke}/users/${i}/transactions`);await c1(S,{accountId:s.id,date:c,withdrawal:ot,deposit:I,memo:A,type:V,timestamp:Sg()}),K(""),p(""),T(""),w(""),G("")}catch(S){console.error("Error adding transaction: ",S),K(`: ${S.message}`)}setTimeout(()=>K(""),3e3)},pt=async dt=>{if(window.confirm("")){try{const ot=zn(r,`artifacts/${Ke}/users/${i}/transactions/${dt}`);await Ag(ot),K("")}catch(ot){console.error("Error deleting transaction: ",ot),K(`: ${ot.message}`)}setTimeout(()=>K(""),3e3)}};return x.jsxs("div",{className:"p-4 space-y-6",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-800 border-b pb-2",children:[x.jsx("span",{className:"text-blue-600",children:s.name})," "]}),x.jsxs("form",{onSubmit:it,className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[x.jsx(Xr,{label:"",id:"transactionDate",type:"date",value:c,onChange:dt=>d(dt.target.value),required:!0,className:"md:col-span-1"}),x.jsx(E1,{label:"",id:"transactionType",value:V,onChange:dt=>G(dt.target.value),options:at}),x.jsx(fh,{label:"",id:"withdrawal",value:g,onChange:p}),x.jsx(fh,{label:"",id:"deposit",value:_,onChange:T,isDeposit:!0}),x.jsx(Xr,{label:"",id:"memo",value:A,onChange:dt=>w(dt.target.value),placeholder:""})]}),x.jsx("div",{className:"flex justify-end items-center mt-4",children:x.jsx(ts,{type:"submit",Icon:_1,className:"w-1/3 bg-blue-600 hover:bg-blue-700",children:""})}),W&&x.jsx("p",{className:`p-3 rounded-lg my-3 text-sm ${W.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:W})]}),x.jsxs("div",{className:"mt-6",children:[x.jsxs("h3",{className:"text-xl font-bold text-gray-700 mb-3",children:[" (",rt.length,")"]}),x.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:x.jsx(T1,{transactions:rt,accounts:[{id:s.id,name:s.name}],onDelete:pt,onEdit:l,onColorChange:()=>{},showAccountInfo:!1})})]})]})},T1=({transactions:s,accounts:t,onDelete:i,onEdit:r,onColorChange:l,onReorder:c,showAccountInfo:d=!0})=>{const g=_t.useMemo(()=>t?t.reduce((w,V)=>(w[V.id]=V,w),{}):{},[t]),p=({transactionId:w,currentColor:V})=>{const G=["green","blue","yellow","pink"],W={green:"",blue:"",yellow:"",pink:""},K=at=>{switch(at){case"green":return"border-green-500";case"blue":return"border-blue-500";case"yellow":return"border-yellow-500";case"pink":return"border-pink-500";default:return"border-transparent"}},rt=at=>{switch(at){case"green":return"bg-green-400";case"blue":return"bg-blue-400";case"yellow":return"bg-yellow-400";case"pink":return"bg-pink-400";default:return"bg-gray-400"}};return x.jsx("div",{className:"flex items-center justify-center space-x-1",children:G.map(at=>x.jsx("button",{onClick:()=>l(w,at===V?null:at),className:`w-4 h-4 rounded-full border-2 transition-transform transform hover:scale-125 ${V===at?K(at):"border-transparent"} ${rt(at)}`,title:`${W[at]}`},at))})},_=s.reduce((w,V)=>w+(V.withdrawal||0),0),T=s.reduce((w,V)=>w+(V.deposit||0),0),A=T-_;return x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d&&x.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"/"}),d&&x.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d&&x.jsx("th",{className:"px-1 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),x.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",colSpan:"2",children:""})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:d?10:7,className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:""})}):s.map((w,V)=>{const G=g[w.accountId],K=(rt=>{switch(rt){case"green":return"bg-green-50 hover:bg-green-100";case"blue":return"bg-blue-50 hover:bg-blue-100";case"yellow":return"bg-yellow-50 hover:bg-yellow-100";case"pink":return"bg-pink-50 hover:bg-pink-100";default:return"hover:bg-gray-50"}})(w.rowColor);return x.jsxs("tr",{className:`${K} transition duration-150`,children:[x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:w.date}),d&&x.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-xs text-gray-500",children:[x.jsx("p",{className:"font-semibold text-gray-800",children:G?.name||""}),x.jsxs("p",{className:"font-mono text-gray-400",children:["No. ",G?.number||"---"]})]}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-700",children:w.type||"---"}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-right text-red-600 font-mono",children:(w.withdrawal||0)>0?Ka(w.withdrawal):"-"}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-right text-green-600 font-mono",children:(w.deposit||0)>0?Ka(w.deposit):"-"}),x.jsx("td",{className:"px-3 py-3 max-w-xs overflow-hidden text-ellipsis text-sm text-gray-700",children:x.jsx("p",{children:w.memo||"---"})}),d&&x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-center",children:x.jsx(p,{transactionId:w.id,currentColor:w.rowColor})}),d&&x.jsx("td",{className:"px-1 py-3 whitespace-nowrap text-center",children:x.jsxs("div",{className:"flex flex-col items-center",children:[V>0&&x.jsx("button",{onClick:()=>c(w,s[V-1]),title:"",className:"text-gray-500 hover:text-blue-600 p-0.5 rounded-full hover:bg-blue-50 transition",children:x.jsx(g1,{size:16})}),V<s.length-1&&x.jsx("button",{onClick:()=>c(w,s[V+1]),title:"",className:"text-gray-500 hover:text-blue-600 p-0.5 rounded-full hover:bg-blue-50 transition",children:x.jsx(m1,{size:16})})]})}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-center text-sm font-medium",children:x.jsx("button",{onClick:()=>r({...w,accountName:G?.name}),className:"text-indigo-500 hover:text-indigo-700 p-1 rounded-full hover:bg-indigo-100 transition",title:"",children:x.jsx(bN,{size:16})})}),x.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-center text-sm font-medium",children:x.jsx("button",{onClick:()=>i(w.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 transition",title:"",children:x.jsx(v1,{size:16})})})]},w.id)})}),x.jsx("tfoot",{className:"bg-gray-100 font-bold",children:x.jsxs("tr",{children:[x.jsx("td",{colSpan:d?3:2,className:"px-3 py-3 text-left text-base text-gray-800",children:""}),x.jsx("td",{className:"px-3 py-3 text-right text-red-600 text-base font-mono",children:Ka(_)}),x.jsx("td",{className:"px-3 py-3 text-right text-green-600 text-base font-mono",children:Ka(T)}),x.jsxs("td",{className:"px-3 py-3 text-right text-base text-gray-800",colSpan:d?5:3,children:[": ",x.jsx("span",{className:A>=0?"text-green-700":"text-red-700",children:Ka(A)})]})]})})]})})},MN=({allTransactions:s,allAccounts:t,userId:i,db:r,setEditingTransaction:l})=>{const[c,d]=_t.useState(""),g=_t.useMemo(()=>[...s].sort((A,w)=>{const V=A.userOrder??new Date(A.date).getTime(),G=w.userOrder??new Date(w.date).getTime();return V!==G?V-G:A.id.localeCompare(w.id)}),[s]),p=async(A,w)=>{if(!(!i||!r))try{const V=g.findIndex(ot=>ot.id===A.id),G=g.findIndex(ot=>ot.id===w.id),W=V<G;let K,rt;W?(K=w,rt=g[G+1]):(K=g[G-1],rt=w);const at=K?K.userOrder??new Date(K.date).getTime():null,it=rt?rt.userOrder??new Date(rt.date).getTime():null;let pt;if(at!==null&&it!==null)pt=(at+it)/2;else if(at!==null)pt=at+1e3;else if(it!==null)pt=it-1e3;else return;if(at!==null&&pt<=at||it!==null&&pt>=it){d("...");const ot=[...g],I=ot.splice(V,1)[0],S=ot.findIndex(M=>M.id===w.id);W?ot.splice(S+1,0,I):ot.splice(S,0,I);const R=h1(r);ot.forEach((M,D)=>{const k=(D+1)*1e3;if(M.userOrder!==k){const C=zn(r,`artifacts/${Ke}/users/${i}/transactions`,M.id);R.update(C,{userOrder:k})}}),await R.commit(),d("")}else{const ot=zn(r,`artifacts/${Ke}/users/${i}/transactions/${A.id}`);await jl(ot,{userOrder:pt})}}catch(V){console.error("Error reordering transaction:",V),d(`: ${V.message}`),setTimeout(()=>d(""),3e3)}},_=async(A,w)=>{if(!(!i||!r))try{const V=zn(r,`artifacts/${Ke}/users/${i}/transactions/${A}`);await jl(V,{rowColor:w})}catch(V){console.error("Error updating transaction color: ",V),d(`: ${V.message}`),setTimeout(()=>d(""),3e3)}},T=async A=>{if(window.confirm("")){try{const w=zn(r,`artifacts/${Ke}/users/${i}/transactions/${A}`);await Ag(w),d("")}catch(w){console.error("Error deleting transaction: ",w),d(`: ${w.message}`)}setTimeout(()=>d(""),3e3)}};return x.jsxs("div",{className:"p-4 space-y-6",id:"integrated-transactions-area",children:[x.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center space-x-2",children:[x.jsx(d1,{size:24,className:"text-purple-600"}),x.jsx("span",{children:" ()"})]}),x.jsx(RN,{elementId:"integrated-transactions-area",fileName:`_${new Date().toISOString().substring(0,10)}`})]}),x.jsx("p",{className:"text-gray-600",children:""}),c&&x.jsxs("p",{className:`p-3 rounded-lg my-3 text-sm flex items-center justify-center ${c.includes("")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[x.jsx(ch,{size:16,className:"animate-spin mr-2"})," ",c]}),x.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:x.jsx(T1,{transactions:g,accounts:t,onDelete:T,onEdit:l,onReorder:p,onColorChange:_,showAccountInfo:!0})})]})},VN=()=>{const[s,t]=_t.useState(!1),[i,r]=_t.useState(null),[l,c]=_t.useState([]),[d,g]=_t.useState([]),[p,_]=_t.useState("register"),[T,A]=_t.useState(!1),[w,V]=_t.useState(!1),[G,W]=_t.useState(!1),[K,rt]=_t.useState(null),[at,it]=_t.useState(!0),[pt,dt]=_t.useState(null);_t.useEffect(()=>{if(!U0){dt(new Error("Firebase")),it(!1);return}try{im=K0(U0),Jn=HI(im),sm=GR(im);const R=Vw(sm,async M=>{if(M)r(M.uid),t(!0);else try{await Iw(sm)}catch(D){console.error("Anonymous Sign-in failed:",D),dt(new Error("")),t(!1)}it(!1)});return()=>R()}catch(R){console.error("Firebase Initialization Error:",R),dt(R),it(!1)}},[]),_t.useEffect(()=>{if(!s||!i||!Jn)return;it(!0);const R=ao(Jn,`artifacts/${Ke}/users/${i}/accounts`),M=I0(R),D=O0(M,Pt=>{const tt=Pt.docs.map(ht=>({id:ht.id,order:ht.data().order===void 0?9999:ht.data().order,...ht.data()})).sort((ht,Nt)=>(ht.order||9999)-(Nt.order||9999));c(tt),p==="register"&&tt.length>0,it(!1)},Pt=>{console.error("Error fetching accounts:",Pt),dt(Pt),it(!1)}),k=ao(Jn,`artifacts/${Ke}/users/${i}/transactions`),C=I0(k),Bt=O0(C,Pt=>{const F=Pt.docs.map(tt=>({id:tt.id,...tt.data()}));g(F)},Pt=>{console.error("Error fetching transactions:",Pt),dt(Pt)});return()=>{D(),Bt()}},[s,i]);const ot=()=>{if(at||!s)return x.jsx("div",{className:"p-8",children:x.jsx(k0,{loading:at,error:pt,userId:i})});if(p==="register")return x.jsx(DN,{userId:i,db:Jn,accounts:l,setAccounts:c,setShowAddAccountModal:A,setShowExportModal:V,setShowImportModal:W});if(p==="integrated")return x.jsx(MN,{allTransactions:d,allAccounts:l,userId:i,db:Jn,setEditingTransaction:rt});const R=l.find(M=>M.id===p);return R?x.jsx(ON,{account:R,transactions:d,userId:i,db:Jn,setEditingTransaction:rt}):l.length===0?x.jsxs("div",{className:"p-8 text-center text-gray-600",children:[x.jsx("h3",{className:"text-xl font-semibold",children:""}),x.jsxs("p",{className:"mt-2",children:["",x.jsx("span",{className:"font-bold text-blue-600",children:""}),"",x.jsx("span",{className:"font-bold text-green-600",children:""}),""]})]}):x.jsx("div",{className:"p-8 text-center text-gray-600",children:""})},I=({tabId:R,label:M,Icon:D,className:k="",badge:C=0,number:Bt=null})=>{const Pt=p===R;return x.jsxs("button",{onClick:()=>_(R),className:`flex flex-col items-start space-y-0.5 px-4 py-3 text-sm font-semibold rounded-t-lg transition-all duration-200 focus:outline-none ${k} ${Pt?"bg-white text-blue-600 border-b-4 border-blue-600 shadow-t-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[D&&x.jsx(D,{size:18}),x.jsx("span",{children:M}),C>0&&x.jsx("span",{className:"ml-1 text-xs bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center",children:C})]}),Bt&&x.jsxs("span",{className:"text-xs font-normal text-gray-400 ml-[22px] -mt-1",children:["No. ",Bt]})]})},S=d.length;return x.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[x.jsx("header",{className:"bg-white shadow-md",children:x.jsxs("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[x.jsxs("h1",{className:"text-3xl font-extrabold text-blue-800 flex items-center space-x-2",children:[x.jsx(V0,{size:30,className:"text-blue-500"}),x.jsx("span",{children:""})]}),x.jsx(ts,{Icon:Lh,onClick:()=>A(!0),className:"bg-green-600 hover:bg-green-700 px-4 py-2",children:""})]})}),x.jsxs("div",{className:"max-w-7xl mx-auto mt-4 px-4 sm:px-6 lg:px-8",children:[x.jsx("div",{className:"mb-4 text-xs text-gray-600 bg-yellow-50 border border-yellow-200 rounded-md p-3 leading-relaxed",children:"ID Firebase Firestore ID  JSON "}),x.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto whitespace-nowrap",children:[x.jsx(I,{tabId:"register",label:"",Icon:p1}),x.jsx(I,{tabId:"integrated",label:"",Icon:d1,className:"bg-purple-100 hover:bg-purple-200",badge:S}),l.map(R=>x.jsx(I,{tabId:R.id,label:R.name,Icon:V0,badge:d.filter(M=>M.accountId===R.id).length,number:R.number},R.id))]}),x.jsx("main",{className:"bg-white rounded-b-xl shadow-xl min-h-[60vh]",children:ot()})]}),x.jsx(IN,{isOpen:T,onClose:()=>A(!1),userId:i,db:Jn,accounts:l,setAccounts:c}),x.jsx(CN,{isOpen:!!K,onClose:()=>rt(null),transaction:K,userId:i,db:Jn}),x.jsx(NN,{isOpen:w,onClose:()=>V(!1),accounts:l,transactions:d}),x.jsx(xN,{isOpen:G,onClose:()=>W(!1),userId:i,db:Jn}),x.jsx("div",{className:"max-w-7xl mx-auto p-4",children:x.jsx(k0,{loading:at&&!pt,error:pt,userId:i})})]})};function UN(){return x.jsx(VN,{})}oA.createRoot(document.getElementById("root")).render(x.jsx(_t.StrictMode,{children:x.jsx(UN,{})}));
